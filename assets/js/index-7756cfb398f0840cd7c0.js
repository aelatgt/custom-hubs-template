!function(e){function t(t){for(var o,i,s=t[0],l=t[1],c=t[2],d=0,m=[];d<s.length;d++)i=s[d],r[i]&&m.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);m.length;)m.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={6:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(){return Promise.resolve()},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/custom-hubs-template/",i.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([1414,0]),n()}({11:function(e,t,n){e.exports={"media-browser":"media-browser__media-browser__y0Hsu",mediaBrowser:"media-browser__media-browser__y0Hsu",facets:"media-browser__facets__1Yz65",facet:"media-browser__facet__2uP6U",body:"media-browser__body__j6Tv2",pager:"media-browser__pager__RKx5O","header-center":"media-browser__header-center__2D9CW",headerCenter:"media-browser__header-center__2D9CW",search:"media-browser__search__3gQ84","header-left":"media-browser__header-left__1ObQh",headerLeft:"media-browser__header-left__1ObQh","engine-attribution":"media-browser__engine-attribution__2P2aD",engineAttribution:"media-browser__engine-attribution__2P2aD","engine-attribution-contents":"media-browser__engine-attribution-contents__gCdfr",engineAttributionContents:"media-browser__engine-attribution-contents__gCdfr","favorites-header":"media-browser__favorites-header__1XzZx",favoritesHeader:"media-browser__favorites-header__1XzZx","search-clear":"media-browser__search-clear__2GkP3",searchClear:"media-browser__search-clear__2GkP3","search-icon":"media-browser__search-icon__g1Sj9",searchIcon:"media-browser__search-icon__g1Sj9",box:"media-browser__box__1KHYi",header:"media-browser__header__zqZ09","no-search":"media-browser__no-search__3N90H",noSearch:"media-browser__no-search__3N90H",nav:"media-browser__nav__9J5If","nav-right-pad":"media-browser__nav-right-pad__1qH0B",navRightPad:"media-browser__nav-right-pad__1qH0B","nav-source":"media-browser__nav-source__o6NI6",navSource:"media-browser__nav-source__o6NI6","nav-source-selected":"media-browser__nav-source-selected__2osjH",navSourceSelected:"media-browser__nav-source-selected__2osjH","nav-scroll-arrow":"media-browser__nav-scroll-arrow__2Nikk",navScrollArrow:"media-browser__nav-scroll-arrow__2Nikk",tiles:"media-browser__tiles__1BYEY",tile:"media-browser__tile__2lzHU",info:"media-browser__info__2c8Zs",name:"media-browser__name__RFiE4",attribution:"media-browser__attribution__3glgj",creator:"media-browser__creator__3LDPh",publisher:"media-browser__publisher__mTzsX","last-joined":"media-browser__last-joined__2DVWf",lastJoined:"media-browser__last-joined__2DVWf","tile-link":"media-browser__tile-link__IXyUO",tileLink:"media-browser__tile-link__IXyUO","tile-content":"media-browser__tile-content__1QYSP",tileContent:"media-browser__tile-content__1QYSP","avatar-tile":"media-browser__avatar-tile__qNo2r",avatarTile:"media-browser__avatar-tile__qNo2r",favorite:"media-browser__favorite__1vVd0","tile-actions":"media-browser__tile-actions__1QXbx",tileActions:"media-browser__tile-actions__1QXbx",presence:"media-browser__presence__2l7SM","create-tile":"media-browser__create-tile__RL9vr",createTile:"media-browser__create-tile__RL9vr","create-avatar-tile":"media-browser__create-avatar-tile__2dxlP",createAvatarTile:"media-browser__create-avatar-tile__2dxlP","tiles-variable":"media-browser__tiles-variable__1ZNxg",tilesVariable:"media-browser__tiles-variable__1ZNxg","page-number":"media-browser__page-number__OTpSH",pageNumber:"media-browser__page-number__OTpSH","pager-button-disabled":"media-browser__pager-button-disabled__ytlSN",pagerButtonDisabled:"media-browser__pager-button-disabled__ytlSN","header-right":"media-browser__header-right__3k3JZ",headerRight:"media-browser__header-right__3k3JZ","create-button":"media-browser__create-button__30hMV",createButton:"media-browser__create-button__30hMV","create-link":"media-browser__create-link__28Bpj",createLink:"media-browser__create-link__28Bpj","empty-string":"media-browser__empty-string__3r0tc",emptyString:"media-browser__empty-string__3r0tc","media-browser-inline":"media-browser__media-browser-inline__3AgWD",mediaBrowserInline:"media-browser__media-browser-inline__3AgWD"}},116:function(e,t,n){"use strict";var o,r,a,i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(17);function d(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}class m extends s.a.Component{handleClick(e,t){var n,o=this;return(n=function*(){if(o.props.onClick&&o.props.onClick(e),!(e.defaultPrevented||0!==e.button||o.props.target&&"_self"!==o.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))){e.preventDefault(),(o.props.replace?u.f:u.e)(t,o.props.stateKey,o.props.stateValue,o.props.stateDetail)}},function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function i(e){d(a,o,r,i,s,"next",e)}function s(e){d(a,o,r,i,s,"throw",e)}i(void 0)})})()}render(){const{innerRef:e,target:t,className:n,title:o,children:r}=this.props;return s.a.createElement("a",{target:t,className:n,title:o,onClick:e=>this.handleClick(e,this.props.history),href:"#",ref:e},r)}}o=m,r="propTypes",a={history:c.a.object,innerRef:c.a.object,replace:c.a.bool,stateKey:c.a.string,stateValue:c.a.string,stateDetail:c.a.object,target:c.a.string,title:c.a.string,onClick:c.a.func,children:c.a.node,className:c.a.string},r in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a,t.a=m},12:function(e,t,n){"use strict";n.d(t,"j",function(){return f}),n.d(t,"h",function(){return b}),n.d(t,"i",function(){return _}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return w}),n.d(t,"g",function(){return j}),n.d(t,"f",function(){return A}),n.d(t,"e",function(){return T}),n.d(t,"d",function(){return I});var o=n(9),r=n(4);function a(e,t){a=function(e,t){return new s(e,t)};var n=i(RegExp),o=RegExp.prototype,r=new WeakMap;function s(e,t){var o=n.call(this,e);return r.set(o,t),o}function c(e,n){var o=r.get(n);return Object.keys(t).reduce(function(t,n){return t[n]=e[o[n]],t},Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,n),s.prototype.exec=function(e){var t=o.exec.call(this,e);return t&&(t.groups=c(t,this)),t},s.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=r.get(this);return o[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}if("function"==typeof t){var a=this;return o[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(c(e,a)),t.apply(this,e)})}return o[Symbol.replace].call(this,e,t)},a.apply(this,arguments)}function i(e){var t="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return s(e,arguments,c(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l(o,e)})(e)}function s(e,t,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&l(r,n.prototype),r}).apply(null,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){u(a,o,r,i,s,"next",e)}function s(e){u(a,o,r,i,s,"throw",e)}i(void 0)})}}const m=(r.a.NON_CORS_PROXY_DOMAINS||"").split(",");r.a.CORS_PROXY_SERVER&&m.push(r.a.CORS_PROXY_SERVER),m.push(document.location.hostname);const p={gltf:"model/gltf",glb:"model/gltf-binary",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",pdf:"application/pdf",mp4:"video/mp4",mp3:"audio/mpeg"};const h=e=>(function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode("0x"+t)))})(e).replace(/=+$/g,"").replace(/\+/g,"-").replace(/\//g,"_"),f=(e,t,n)=>{let a="";try{const t=new URL(e).pathname.split(".");if(t.length>1){const e=t.pop();p[e]&&(a=`.${e}`)}}catch(e){a=".png"}const i=`https://${r.a.THUMBNAIL_SERVER}/thumbnail/${h(e)}${a}?w=${t}&h=${n}`;try{const t=new URL(e).hostname;if(Object(o.j)()){if(new URL(`https://${r.a.RETICULUM_SERVER}`).hostname===t)return e}}catch(e){return i}return i},b=e=>m.find(t=>e.endsWith(t)),_=e=>{if(!e.startsWith("http:")&&!e.startsWith("https:"))return e;try{const t=new URL(e);if(b(t.hostname))return e}catch(e){}return`https://${r.a.CORS_PROXY_SERVER}/${e}`};function g(e,t){return function(e,t){return new URL(t,e)}(e,t).href}const y=e=>t=>{if("string"!=typeof t||""===t)return"";if(/^(https?:)?\/\//i.test(t))return t;if(/^data:.*,.*$/i.test(t))return t;if(/^blob:.*$/i.test(t))return t;if(r.a.CORS_PROXY_SERVER){const n=`https://${r.a.CORS_PROXY_SERVER}/`;if(e.startsWith(n)){const o=decodeURIComponent(e.substring(n.length)).split("/"),r=new URL(t).pathname;return n+(o.slice(0,o.length-1).join("/")+"/"+r)}}return t},v=/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/,w=e=>{if(!e)return;if(e.startsWith("hubs://")&&e.endsWith("/video"))return"video/vnd.hubs-webrtc";if(e.startsWith("data:")){const t=v.exec(e);t.length>0&&t[1]}const t=new URL(e,window.location).pathname.split(".").pop();return p[t]},k=new Map;function E(e){return S.apply(this,arguments)}function S(){return(S=d(function*(e){if(!e)return!1;e.startsWith("http")||(e="https://"+e);const{origin:t}=new URL(e);if(k.has(t))return k.get(t);let n;try{n=(yield fetch(_(t),{method:"HEAD"})).headers.has("hub-name")}catch(e){n=!1}return k.set(t,n),n})).apply(this,arguments)}const C=/https?:\/\/[^\/]+\/scenes\/(\w+)\/?\S*/,P=a(/https?:\/\/[^\/]+\/avatars\/(\w+)\/?\S*/,{id:1}),x=/(https?:\/\/)?[^\/]+\/([a-zA-Z0-9]{7})\/?\S*/,N=function(){var e=d(function*(e){return(yield E(e))&&new URL(e).origin===document.location.origin});return function(t){return e.apply(this,arguments)}}(),O=function(){var e=d(function*(e){return(yield E(e))&&C.test(e)});return function(t){return e.apply(this,arguments)}}(),j=function(){var e=d(function*(e){return(yield O(e))&&(yield N(e))});return function(t){return e.apply(this,arguments)}}(),R=function(){var e=d(function*(e){return(yield E(e))&&P.test(e)});return function(t){return e.apply(this,arguments)}}(),A=function(){var e=d(function*(e){return(yield R(e))&&(yield N(e))});return function(t){return e.apply(this,arguments)}}(),T=function(){var e=d(function*(e){return(yield E(e))&&!(yield R(e))&&!(yield O(e))&&x.test(e)});return function(t){return e.apply(this,arguments)}}(),I=e=>{const t=e.match(P);return t?t.groups.id:null}},128:function(e,t,n){"use strict";n.d(t,"a",function(){return r});let o=null;function r(){return null===o&&(o=/\b(Macintosh|iPad|iPhone)\b/i.test(navigator.userAgent)&&function(){let e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{const t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{const t=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(t)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(t)}}return e}()),o}},141:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n(0),r=n.n(o),a=n(2),i=n.n(a),s=n(3),l=n(4),c=n(20),u=n(91),d=n.n(u),m=n(21),p=n(38);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends o.Component{constructor(...e){super(...e),f(this,"state",{email:""}),f(this,"onSubmit",e=>{e.preventDefault(),e.stopPropagation(),this.props.onSignIn(this.state.email)})}render(){let e;return e=this.props.authStarted?r.a.createElement("p",null,r.a.createElement(s.a,{className:"preformatted",id:"sign-in.auth-started"})):this.props.authComplete?r.a.createElement("div",{className:d.a.signInComplete},r.a.createElement("p",null,this.props.message),r.a.createElement("button",{onClick:this.props.onContinue,className:d.a.continueButton},this.props.continueText)):r.a.createElement("form",{onSubmit:this.onSubmit,className:d.a.signInForm},r.a.createElement("span",null,this.props.message),r.a.createElement("input",{name:"email",type:"email",required:!0,placeholder:"Your email address",value:this.state.email,onFocus:e=>Object(p.b)(e.target),onBlur:()=>Object(p.a)(),onChange:e=>this.setState({email:e.target.value}),className:d.a.emailField}),(l.a.feature("show_terms")||l.a.feature("show_privacy"))&&r.a.createElement("p",{className:d.a.terms},"By proceeding, you agree to the"," ",r.a.createElement(c.a,{name:"show_terms"},r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:l.a.link("terms_of_use","https://github.com/mozilla/hubs/blob/master/TERMS.md")},"terms of use")," "),l.a.feature("show_terms")&&l.a.feature("show_privacy")&&"and ",r.a.createElement(c.a,{name:"show_privacy"},r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:l.a.link("privacy_notice","https://github.com/mozilla/hubs/blob/master/PRIVACY.md")},"privacy notice")),"."),r.a.createElement("button",{type:"submit",className:d.a.nextButton},"next")),r.a.createElement(m.a,h({title:"Sign In"},this.props),e)}}f(b,"propTypes",{authStarted:i.a.bool,authComplete:i.a.bool,onSignIn:i.a.func,onContinue:i.a.func,message:i.a.string,continueText:i.a.string,closable:i.a.bool}),f(b,"defaultProps",{closable:!0})},1414:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(53),i=n.n(a),s=n(1418),l=n(1419),c=n(27),u=n.n(c),d=n(65),m=n(2),p=n.n(m),h=n(3),f=n(8),b=n(84),_=n.n(b),g=n(4),y=n(20),v=n(198),w=n(16);n(611),n(612);var k=n(613),E=n.n(k),S=n(5),C=n.n(S),P=n(9),x=n(243),N=n(128);var O,j,R,A=function(){let e=!1;var t;return t=window.navigator.userAgent||window.navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0),(/iPad|iPhone|iPod/.test(window.navigator.platform)||function(e){const t=e||window.navigator.userAgent;return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(t)}()||/R7 Build/.test(window.navigator.userAgent))&&(e=!0),Object(N.a)()&&(e=!0),function(){return e}}(),T=n(117),I=n(288),D=n(11),L=n.n(D),M=n(199),F=n(244),B=n(21);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class H extends o.Component{render(){const{authOrigin:e,verifying:t,verified:n}=this.props,{formatMessage:o}=this.props.intl,a=t||!n?"":o({id:"auth.verified-title"});return t||n?r.a.createElement(B.a,Y({title:a,closable:!t},this.props),t?r.a.createElement("div",{className:"loader-wrap loader-mid"},r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader-center"}))):"spoke"===e?r.a.createElement(h.a,{className:"preformatted",id:"auth.spoke-verified"}):r.a.createElement(h.a,{className:"preformatted",id:"auth.verified"})):r.a.createElement(B.a,Y({title:a,closable:!0},this.props),r.a.createElement(h.a,{className:"preformatted",id:"auth.verify-failed"}))}}O=H,j="propTypes",R={intl:p.a.object,verifying:p.a.bool,verified:p.a.bool,authOrigin:p.a.string},j in O?Object.defineProperty(O,j,{value:R,enumerable:!0,configurable:!0,writable:!0}):O[j]=R;var $=Object(h.d)(H),V=n(141),G=n(245);function U(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function z(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){U(a,o,r,i,s,"next",e)}function s(e){U(a,o,r,i,s,"throw",e)}i(void 0)})}}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){q(e,t,n[t])})}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object(h.c)([..._.a]);const J=A();class K extends o.Component{constructor(e){var t;super(e),t=this,q(this,"state",{dialog:null,signedIn:null,mailingListEmail:"",mailingListPrivacy:!1}),q(this,"showDialog",(e,t={})=>{this.setState({dialog:r.a.createElement(e,W({onClose:this.closeDialog},t))})}),q(this,"showAuthDialog",(e,t)=>{this.showDialog($,{verifying:e,verified:t,authOrigin:this.props.authOrigin})}),q(this,"showRoomInfo",e=>{this.showDialog(F.a,{hubName:e.name,hubDescription:e.description})}),q(this,"loadHomeVideo",()=>{const e=document.querySelector("#background-video");e&&(e.playbackRate=.9,function(e){function t(){document.hasFocus()?e.play():e.pause()}"hasFocus"in document&&(document.addEventListener("visibilitychange",t),window.addEventListener("focus",t),window.addEventListener("blur",t))}(e))}),q(this,"closeDialog",()=>{this.setState({dialog:null})}),q(this,"showSignInDialog",(e=!0)=>{let n="sign-in.prompt";"admin_no_permission"===this.props.signInReason?n="sign-in.admin-no-permission":"admin"===this.props.signInDestination?n="sign-in.admin":"hub"===this.props.signInDestination&&(n="sign-in.hub"),this.showDialog(V.a,{message:w.b[n],closable:e,onSignIn:function(){var e=z(function*(e){const{authComplete:n}=yield t.props.authChannel.startAuthentication(e);t.showDialog(V.a,{authStarted:!0}),yield n,t.setState({signedIn:!0,email:e}),t.closeDialog(),t.props.signInDestinationUrl?document.location=t.props.signInDestinationUrl:"admin"===t.props.signInDestination&&(document.location=Object(P.l)()?"/admin.html":"/admin")});return function(t){return e.apply(this,arguments)}}()})}),q(this,"signOut",()=>{this.props.authChannel.signOut(),this.setState({signedIn:!1})}),q(this,"onLinkClicked",e=>t=>{t.preventDefault(),t.stopPropagation(),e()}),this.state.signedIn=e.authChannel.signedIn,this.state.email=e.authChannel.email}componentDidMount(){if(this.props.authVerify)return this.showAuthDialog(!0,!1),void this.verifyAuth().then(e=>{this.showAuthDialog(!1,e)});this.props.showSignIn&&this.showSignInDialog(!1),this.loadHomeVideo()}verifyAuth(){var e=this;return z(function*(){const t=new M.a(e.props.store);t.setSocket(yield Object(P.a)());try{return yield t.verifyAuthentication(e.props.authTopic,e.props.authToken,e.props.authPayload),e.setState({signedIn:!0,email:e.props.store.state.credentials.email}),!0}catch(e){return console.warn(e),!1}})()}render(){const e=C()({[u.a.mainContent]:!0,[u.a.noninteractive]:!!this.state.dialog});return r.a.createElement(h.b,{locale:w.a,messages:w.b},r.a.createElement("div",{className:u.a.home},r.a.createElement("div",{className:e},r.a.createElement("div",{className:u.a.headerContent},r.a.createElement("div",{className:u.a.titleAndNav,onClick:()=>document.location="/"},r.a.createElement("div",{className:u.a.links},r.a.createElement(y.a,{name:"show_whats_new_link"},r.a.createElement("a",{href:"/whats-new"},r.a.createElement(h.a,{id:"home.whats_new_link"}))),r.a.createElement(y.a,{name:"show_source_link"},r.a.createElement("a",{href:"https://github.com/mozilla/hubs",rel:"noreferrer noopener"},r.a.createElement(h.a,{id:"home.source_link"}))),r.a.createElement(y.a,{name:"show_community_link"},r.a.createElement("a",{href:g.a.link("community","https://discord.gg/wHmY4nd"),rel:"noreferrer noopener"},r.a.createElement(h.a,{id:"home.community_link"}))),r.a.createElement(y.a,{name:"enable_spoke"},r.a.createElement("a",{href:"/spoke",rel:"noreferrer noopener"},r.a.createElement(h.a,{id:"editor-name"}))),r.a.createElement(y.a,{name:"show_cloud"},r.a.createElement("a",{href:"https://hubs.mozilla.com/cloud",rel:"noreferrer noopener"},r.a.createElement(h.a,{id:"home.cloud_link"}))),this.props.showAdmin&&r.a.createElement("a",{href:"/admin",rel:"noreferrer noopener"},r.a.createElement("i",null,r.a.createElement(f.a,{icon:I.faCog}))," ",r.a.createElement(h.a,{id:"home.admin"})))),r.a.createElement("div",{className:u.a.signIn},this.state.signedIn?r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement(h.a,{id:"sign-in.as"})," ",Object(x.a)(this.state.email))," ",r.a.createElement("a",{onClick:this.onLinkClicked(this.signOut)},r.a.createElement(h.a,{id:"sign-in.out"}))):r.a.createElement("a",{onClick:this.onLinkClicked(this.showSignInDialog)},r.a.createElement(h.a,{id:"sign-in.in"})))),r.a.createElement("div",{className:u.a.heroContent,style:{backgroundImage:g.a.image("home_background",!0)}},!this.props.hideHero&&(this.props.featuredRooms&&this.props.featuredRooms.length>0?this.renderFeaturedRoomsHero():this.renderNonFeaturedRoomsHero()),!this.props.hideHero&&r.a.createElement("div",{className:C()(u.a.heroPanel,u.a.rightPanel)},!1,r.a.createElement("div",null,r.a.createElement("div",{className:u.a.secondaryLink},r.a.createElement("a",{href:"/link"},r.a.createElement(h.a,{id:"home.have_code"}))),r.a.createElement(y.a,{name:"show_discord_bot_link"},r.a.createElement("div",{className:u.a.secondaryLink},r.a.createElement("div",null,r.a.createElement(h.a,{id:"home.add_to_discord_1"})),r.a.createElement("img",{src:E.a}),r.a.createElement("a",{href:"/discord"},r.a.createElement(h.a,{id:"home.add_to_discord_2"})),r.a.createElement("div",null,r.a.createElement(h.a,{id:"home.add_to_discord_3"}))))))),r.a.createElement("div",{className:u.a.footerContent},r.a.createElement("div",{className:u.a.poweredBy},r.a.createElement(v.a,{name:"hide_powered_by"},r.a.createElement("span",{className:u.a.prefix},r.a.createElement(h.a,{id:"home.powered_by_prefix"})),r.a.createElement("a",{className:u.a.link,href:"https://github.com/mozilla/hubs-cloud"},r.a.createElement(h.a,{id:"home.powered_by_link"})))),r.a.createElement("div",{className:u.a.links},r.a.createElement("div",{className:u.a.top},r.a.createElement(y.a,{name:"show_join_us_dialog"},r.a.createElement("a",{className:u.a.link,rel:"noopener noreferrer",href:"/#/join-us"},r.a.createElement(h.a,{id:"home.join_us"}))),r.a.createElement(y.a,{name:"show_issue_report_link"},g.a.feature("show_issue_report_dialog")?r.a.createElement("a",{className:u.a.link,rel:"noopener noreferrer",href:"/#/report"},r.a.createElement(h.a,{id:"home.report_issue"})):r.a.createElement("a",{className:u.a.link,href:g.a.link("issue_report","/#/report"),target:"_blank",rel:"noreferrer noopener"},r.a.createElement(h.a,{id:"settings.report"}))),r.a.createElement(y.a,{name:"show_terms"},r.a.createElement("a",{className:u.a.link,target:"_blank",rel:"noopener noreferrer",href:g.a.link("terms_of_use","https://github.com/mozilla/hubs/blob/master/TERMS.md")},r.a.createElement(h.a,{id:"home.terms_of_use"}))),r.a.createElement(y.a,{name:"show_privacy"},r.a.createElement("a",{className:u.a.link,target:"_blank",rel:"noopener noreferrer",href:g.a.link("privacy_notice","https://github.com/mozilla/hubs/blob/master/PRIVACY.md")},r.a.createElement(h.a,{id:"home.privacy_notice"}))),r.a.createElement(y.a,{name:"show_company_logo"},r.a.createElement("img",{className:u.a.companyLogo,src:g.a.image("company_logo")})))))),this.state.dialog))}renderPwaButton(){return r.a.createElement("button",{className:C()(u.a.secondaryButton),style:this.props.installEvent||this.state.installed?{}:{visibility:"hidden"},onClick:()=>{this.props.installEvent.prompt(),this.props.installEvent.userChoice.then(e=>{"accepted"===e.outcome&&this.setState({installed:!0})})}},r.a.createElement("i",null,r.a.createElement(f.a,{icon:T.faPlus})),r.a.createElement(h.a,{id:`home.${J?"mobile":"desktop"}.add_pwa`}))}renderCreateButton(){return r.a.createElement("button",{className:C()(u.a.primaryButton,u.a.ctaButton),onClick:e=>{e.preventDefault(),Object(P.b)(null,null,!1)}},r.a.createElement(h.a,{id:"home.create_a_room"}))}renderFeaturedRoomsHero(){return[r.a.createElement("div",{className:u.a.heroPanel,key:1},r.a.createElement("div",{className:u.a.container},r.a.createElement("div",{className:C()([u.a.logo,u.a.logoMargin])},r.a.createElement("img",{src:g.a.image("logo")}))),r.a.createElement("div",{className:u.a.ctaButtons},this.props.showCreate&&this.renderCreateButton(),this.renderPwaButton())),r.a.createElement("div",{className:u.a.heroPanel,key:2},r.a.createElement("div",{className:C()([L.a.mediaBrowser,L.a.mediaBrowserInline])},r.a.createElement("div",{className:C()([L.a.box,L.a.darkened])},r.a.createElement(G.a,{entries:this.props.featuredRooms,handleEntryInfoClicked:this.showRoomInfo,urlSource:"favorites"}))))]}renderNonFeaturedRoomsHero(){return r.a.createElement("div",{className:u.a.heroPanel},r.a.createElement("div",{className:u.a.container},r.a.createElement("div",{className:u.a.logo},r.a.createElement("img",{src:g.a.image("logo")})),r.a.createElement("div",{className:u.a.blurb},r.a.createElement(h.a,{id:"app-description"}))),r.a.createElement("div",{className:u.a.ctaButtons},this.props.showCreate&&this.renderCreateButton(),this.renderPwaButton()))}}q(K,"propTypes",{intl:p.a.object,store:p.a.object,authChannel:p.a.object,authVerify:p.a.bool,authTopic:p.a.string,authToken:p.a.string,authPayload:p.a.string,authOrigin:p.a.string,installEvent:p.a.object,hideHero:p.a.bool,showAdmin:p.a.bool,showCreate:p.a.bool,featuredRooms:p.a.array,publicRoomsResult:p.a.object,showSignIn:p.a.bool,signInDestination:p.a.string,signInDestinationUrl:p.a.string,signInReason:p.a.string});var X=K,Z=n(51);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class ee extends o.Component{render(){return r.a.createElement(B.a,Q({title:"Join Us"},this.props),r.a.createElement("span",null,r.a.createElement("p",null,"Join us in the"," ",r.a.createElement("a",{href:"https://discord.gg/wHmY4nd",target:"_blank",rel:"noopener noreferrer"},"Hubs community")," ","on Discord.",r.a.createElement("br",null)),r.a.createElement("p",null,"VR meetups every Friday at noon PDT!"),r.a.createElement("p",null,"You can also follow us on Twitter at"," ",r.a.createElement("a",{href:"https://twitter.com/mozillareality",target:"_blank",rel:"noopener noreferrer"},"@mozillareality"),".")))}}var te=n(24);function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class oe extends o.Component{render(){return r.a.createElement(B.a,ne({title:"Report an Issue"},this.props),r.a.createElement("span",null,r.a.createElement("p",null,"Need to report a problem?"),r.a.createElement("p",null,"You can file a"," ",r.a.createElement(te.b,null,r.a.createElement("a",{href:"https://github.com/mozilla/hubs/issues",target:"_blank",rel:"noopener noreferrer"},"GitHub Issue"))," ","or e-mail us for support at"," ",r.a.createElement(te.b,null,r.a.createElement("a",{href:"mailto:hubs@mozilla.com"},"hubs@mozilla.com"))),r.a.createElement("p",null,"You can also find us on"," ",r.a.createElement(te.b,null,r.a.createElement("a",{href:"https://discord.gg/wHmY4nd",target:"_blank",rel:"noopener noreferrer"},"Discord")))))}}var re=n(66),ae=n.n(re);n(96);function ie(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function se(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){ie(a,o,r,i,s,"next",e)}function s(e){ie(a,o,r,i,s,"throw",e)}i(void 0)})}}"https:"!=window.location.protocol&&(window.location.protocol="https:");const le=new URLSearchParams(location.search);Object(d.a)("/home","Hubs Home Page");const ce=new Z.b;window.APP={store:ce};const ue=new M.a(ce);let de=null,me=null,pe=!1,he=!0,fe=!1,be=!1;const _e=function(){pe=!0;const e=r.a.createElement(X,{store:ce,authChannel:ue,authVerify:le.has("auth_topic"),authTopic:le.get("auth_topic"),authToken:le.get("auth_token"),authPayload:le.get("auth_payload"),authOrigin:le.get("auth_origin"),showSignIn:le.has("sign_in"),signInDestination:le.get("sign_in_destination"),signInDestinationUrl:le.get("sign_in_destination_url"),signInReason:le.get("sign_in_reason"),hideHero:he,showAdmin:fe,showCreate:be,featuredRooms:me,installEvent:de});function t(){location.href="/#/"}const n=r.a.createElement(s.a,null,r.a.createElement(r.a.Fragment,null,e,r.a.createElement(l.a,{path:"/join-us",render:()=>r.a.createElement(ee,{onClose:t})}),r.a.createElement(l.a,{path:"/report",render:()=>r.a.createElement(oe,{onClose:t})})));i.a.render(n,document.getElementById("home-root"))};function ge(){return(ge=se(function*(){const[e,t]=yield Promise.all([ue.signedIn?Object(P.d)(`/api/v1/media/search?source=favorites&type=rooms&user=${ce.credentialsAccountId}`):Promise.resolve({entries:[]}),Object(P.d)("/api/v1/media/search?source=rooms&filter=public")]),n=[...t.entries,...e.entries],o=n.map(e=>e.id);me=n.filter((e,t)=>o.lastIndexOf(e.id)===t).sort((e,t)=>t.member_count-e.member_count),_e()})).apply(this,arguments)}window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),de=e,pe&&_e()}),se(function*(){if(null!==le.get("new"))return void Object(P.b)(null,null,!0);const e=yield Object(P.a)();ue.setSocket(e);const t={hub_id:"index"};ce.state.credentials&&ce.state.credentials.token&&(t.token=ce.state.credentials.token);const n=e.channel("ret",t);n.join().receive("ok",()=>{n.push("refresh_perms_token").receive("ok",({perms_token:e})=>{const t=ae()(e);g.a.setIsAdmin("ret_admin"===t.postgrest_role),"ret_admin"===t.postgrest_role&&(fe=!0),be=!!t.create_hub,_e(),n.leave()})}),he=!1,_e(),function(){ge.apply(this,arguments)}()})()},15:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});const o=function(e,t){return new Promise(n=>{t.addEventListener(e,n,{once:!0})})},r=function(){return"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?Promise.resolve(null):o("DOMContentLoaded",window)}},152:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var o=n(12);function r(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,l,"next",e)}function l(e){r(i,o,a,s,l,"throw",e)}s(void 0)})}}function i(){return(i=a(function*(e){return fetch(e).then(function(){var e=a(function*(e){const t=e.body.getReader();let n="";return yield t.read().then(function e({done:o,value:r}){if(n+=String.fromCharCode.apply(null,r.slice(0,4)),!o&&n.length<4)return t.read().then(e);t.cancel()}),n.startsWith("glTF")});return function(t){return e.apply(this,arguments)}}())})).apply(this,arguments)}function s(e){return l.apply(this,arguments)}function l(){return(l=a(function*(e){return""!==e.trim()&&(!!e.startsWith("http")&&(!!(yield Object(o.g)(e))||function(e){return i.apply(this,arguments)}(Object(o.i)(e))))})).apply(this,arguments)}function c(e,t){return t.credentialsAccountId&&e.account_id===t.credentialsAccountId||e.allow_promotion||e.allow_remixing}},157:function(e,t){},158:function(e,t){},159:function(e,t){},16:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l});var o=n(4),r=n(36);const a=(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).toLowerCase().split(/[_-]+/)[0],i=r[a]&&a||"en",s=r[i]||r.en;if(o.a.APP_CONFIG&&o.a.APP_CONFIG.translations&&o.a.APP_CONFIG.translations[i]){const e=o.a.APP_CONFIG.translations[i];for(const t in e)e.hasOwnProperty(t)&&e[t]&&(s[t]=e[t])}const l=Object.entries(s).map(([e,t])=>[e,t.replace(/%([\w-.]+)%/i,(e,t)=>s[t])]).reduce((e,t)=>(e[t[0]]=t[1],e),{})},160:function(e,t){},165:function(e,t){},17:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n,r,a,i,s){let l={};const c=(e.location.state&&e.location.state.__historyLength||0)+(t?0:1);(n||i||s)&&(delete(l=e.location.state?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},e.location.state):{}).__duplicate,n&&(l[n]=r,l.key=n,l.value=r,l.detail=a));const u=void 0!==i?i:"/"===e.location.pathname?"":e.location.pathname,d=void 0!==s?s:e.location.search,m=e.location.state&&e.location.state.__duplicate,p=t||m?e.replace:e.push;l.__historyLength=c,p({pathname:u,search:d,state:l})}function a(e,t,n,o){r(e,!1,t,n,o)}function i(e,t,n,o){r(e,!0,t,n,o)}function s(e,t,n){r(e,!1,null,null,null,t,n)}function l(e){r(e,!1)}function c(e,t){if(!e.location.state||void 0===e.location.state.__historyLength)return;const n=e.location.state.__historyLength;return 0!==n?new Promise(o=>{const r=e.listen(()=>{r(),e.push({pathname:e.location.pathname,search:e.location.search,state:{__historyLength:0,__duplicate:!0}}),t&&e.go(-2),o()});e.go(-n)}):void 0}function u(e){c(e,!0)}function d(e){return`/${e.pathname.split("/").slice(2).join("/")}`}function m(e,t){return`/${e.pathname.split("/")[1]}${t}`}n.d(t,"e",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return m})},180:function(e,t){},181:function(e,t){},198:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(4);function r(e){return!o.a.feature(e.name)&&e.children||null}},199:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n(289),r=n.n(o);function a(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function s(e){a(i,o,r,s,l,"next",e)}function l(e){a(i,o,r,s,l,"throw",e)}s(void 0)})}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(e){var t=this;s(this,"setSocket",e=>{this.socket=e}),s(this,"signOut",function(){var e=i(function*(e){e&&(yield e.signOut()),t.store.update({credentials:{token:null,email:null}}),yield t.store.resetToRandomDefaultAvatar(),t._signedIn=!1});return function(t){return e.apply(this,arguments)}}()),this.store=e,this.socket=null,this._signedIn=!!this.store.state.credentials.token}get email(){return this.store.state.credentials.email}get signedIn(){return this._signedIn}verifyAuthentication(e,t,n){var o=this;const r=this.socket.channel(e);return new Promise((e,a)=>{r.onError(()=>{r.leave(),a()}),r.join().receive("ok",()=>{r.on("auth_credentials",function(){var t=i(function*({credentials:t,payload:n}){yield o.handleAuthCredentials(n.email,t),e()});return function(e){return t.apply(this,arguments)}}()),r.push("auth_verified",{token:t,payload:n})}).receive("error",a)})}startAuthentication(e,t){var n=this;return i(function*(){const o=n.socket.channel(`auth:${r()()}`);yield new Promise((e,t)=>o.join().receive("ok",e).receive("error",t));const a=new Promise(r=>o.on("auth_credentials",function(){var o=i(function*({credentials:o}){yield n.handleAuthCredentials(e,o,t),r()});return function(e){return o.apply(this,arguments)}}()));return o.push("auth_request",{email:e,origin:"hubs"}),{authComplete:a}})()}handleAuthCredentials(e,t,n){var o=this;return i(function*(){o.store.update({credentials:{email:e,token:t}}),n&&(yield n.signIn(t)),o._signedIn=!0})()}}},20:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(4);function r(e){return o.a.feature(e.name)&&e.children||null}},21:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n(0),r=n.n(o),a=n(2),i=n.n(a),s=n(5),l=n.n(s),c=n(34),u=n(8);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.Component{constructor(e){super(e),d(this,"onContainerClicked",e=>{this.props.closable&&e.currentTarget===e.target&&this.props.onClose()}),this.onKeyDown=this.onKeyDown.bind(this),this.onContainerClicked=this.onContainerClicked.bind(this)}componentDidMount(){window.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.onKeyDown)}onKeyDown(e){this.props.closable&&"Escape"===e.key&&this.props.onClose()}render(){return r.a.createElement("div",{className:l()("dialog-overlay",this.props.noOverlay?"dialog-overlay__no-pointer-events":"",this.props.className)},r.a.createElement("div",{className:l()("dialog",this.props.noOverlay?"dialog__no-pointer-events":"dialog__dark-background",this.props.noOverlay?"dialog__align-end":""),onClick:this.onContainerClicked},r.a.createElement("div",{className:`dialog__box ${this.props.wide?"dialog__wide":""} `},r.a.createElement("div",{className:l()("dialog__box__contents",this.props.allowOverflow?"dialog__box__contents-overflow":null,this.props.additionalClass)},this.props.closable&&this.props.onClose&&!this.props.noOverlay&&r.a.createElement("button",{className:"dialog__box__contents__close",onClick:()=>this.props.onClose()},r.a.createElement("i",null,r.a.createElement(u.a,{icon:c.faTimes}))),this.props.title&&r.a.createElement("div",{className:"dialog__box__contents__title"},this.props.title),r.a.createElement("div",{className:"dialog__box__contents__body"},this.props.children),r.a.createElement("div",{className:"dialog__box__contents__button-container"})))))}}d(m,"propTypes",{title:i.a.node,children:i.a.node.isRequired,onClose:i.a.func,closable:i.a.bool,wide:i.a.bool,noOverlay:i.a.bool,className:i.a.string,allowOverflow:i.a.bool,additionalClass:i.a.string}),d(m,"defaultProps",{closable:!0})},24:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l});var o=n(0),r=n.n(o),a=n(2),i=n.n(a);const s=r.a.createContext({}),l=({sound:e,children:t})=>r.a.createElement(s.Consumer,null,n=>r.a.cloneElement(t,{onMouseEnter:o=>{n&&n.playSound&&n.playSound(e||"play_sound-hud_hover_start"),t.props.onMouseEnter&&t.props.onMouseEnter(o)}}));l.propTypes={children:i.a.object,sound:i.a.string}},243:function(e,t,n){"use strict";function o(e){if(!e)return"";const t=e.split("@"),n=t[0],o=t[1];return`${n.substring(0,Math.min(n.length,3))}...@${o}`}n.d(t,"a",function(){return o})},244:function(e,t,n){"use strict";var o,r,a,i=n(0),s=n.n(i),l=n(2),c=n.n(l),u=n(3),d=n(21),m=n(31),p=n.n(m),h=n(12),f=n(152);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class _ extends i.Component{render(){const e=!!this.props.hubDescription,t=!!this.props.scene,n=t&&Object(f.a)(this.props.scene,this.props.store),o=(e,t)=>{if(e.url){const n=e.url.includes("sketchfab.com")?"on Sketchfab":e.url.includes("poly.google.com")?"on Google Poly":"";return s.a.createElement("div",{className:p.a.attribution,key:`${e.url} ${t}`},s.a.createElement("div",{className:p.a.attributionName},s.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)),s.a.createElement("div",{className:p.a.attributionAuthor},"by ",e.author," ",n))}return s.a.createElement("div",{className:p.a.attribution,key:`${e.name} ${e.author} {i}`},s.a.createElement("div",{className:p.a.attributionName},e.name),s.a.createElement("div",{className:p.a.attributionAuthor},"by ",e.author))};let r=null,a=null;t&&this.props.scene.attributions&&(a=this.props.scene.attributions.creator,r=s.a.createElement("div",null,this.props.scene.attributions.content&&this.props.scene.attributions.content.map(o)));const i=s.a.createElement("div",{className:p.a.title},e&&t?s.a.createElement(u.a,{id:"room-info.title"}):this.props.hubName);return s.a.createElement(d.a,b({title:i,wide:!0},this.props),e&&s.a.createElement(s.a.Fragment,null,t&&s.a.createElement("div",{className:p.a.hubTitle},this.props.hubName),s.a.createElement("div",{className:p.a.description},this.props.hubDescription)),t&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:p.a.subtitle},s.a.createElement(u.a,{id:"room-info.scene-info"})),s.a.createElement("div",{className:p.a.roomInfo},s.a.createElement("div",{className:p.a.sceneScreenshot},n?s.a.createElement("a",{href:this.props.scene.url,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:Object(h.j)(this.props.scene.screenshot_url,400,480)})):s.a.createElement("img",{src:Object(h.j)(this.props.scene.screenshot_url,400,480)})),s.a.createElement("div",{className:p.a.sceneDetails},s.a.createElement("div",{className:p.a.sceneMain},s.a.createElement("div",{className:p.a.sceneName},n?s.a.createElement("a",{href:this.props.scene.url,target:"_blank",rel:"noopener noreferrer"},this.props.scene.name):s.a.createElement("span",null,this.props.scene.name)),s.a.createElement("div",{className:p.a.sceneCreator},a)),s.a.createElement("div",{className:p.a.sceneAttributions},r),s.a.createElement("div",{className:p.a.sceneButtons}," ")))))}}o=_,r="propTypes",a={hubName:c.a.string,hubDescription:c.a.string,scene:c.a.object,store:c.a.object},r in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a,t.a=Object(u.d)(_)},245:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(2),i=n.n(a),s=n(5),l=n.n(s),c=n(228),u=n.n(c),d=n(290),m=n.n(d),p=n(3),h=n(8),f=n(291),b=n(219),_=n(292),g=n(101),y=n(293),v=n(176),w=n(117),k=n(220),E=n(221),S=n(129),C=n(20),P=n(11),x=n.n(P),N=n(12),O=n(116),j=n(43),R=n(9);function A(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function T(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){A(a,o,r,i,s,"next",e)}function s(e){A(a,o,r,i,s,"throw",e)}i(void 0)})}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}u.a.extend(m.a);const D={sketchfab_model:"Sketchfab",poly_model:"Google Poly",twitch_stream:"Twitch"};class L extends o.Component{constructor(...e){var t;super(...e),t=this,I(this,"handleCopyAvatar",function(){var e=T(function*(e,n){e.preventDefault(),yield Object(j.h)(n.id,n.name),t.props.onCopyAvatar()});return function(t,n){return e.apply(this,arguments)}}()),I(this,"handleCopyScene",function(){var e=T(function*(e,n){e.preventDefault(),yield Object(R.d)("/api/v1/scenes","POST",{parent_scene_id:n.id}),t.props.onCopyScene()});return function(t,n){return e.apply(this,arguments)}}()),I(this,"getTileDimensions",(e,t,n)=>{const o=window.innerWidth;let r,a=o<1079?o<768?o<400?85:100:150:200;return t&&(a=Math.floor(1.5*a)),[r=e?Math.floor(Math.max(n*a,.85*a)):t?Math.floor(9/16*a):Math.floor(Math.max(16/9*a,.85*a)),a]}),I(this,"entryToTile",(e,t)=>{const n=e.images.preview.url,o=e.attributions&&e.attributions.creator,a=e.type.endsWith("_image"),i=["avatar","avatar_listing"].includes(e.type),s=["room"].includes(e.type),c=e.images.preview.width/e.images.preview.height,[d,m]=this.getTileDimensions(a,i,c),f="mp4"===e.images.preview.type?r.a.createElement("video",{className:l()(x.a.tileContent,x.a.avatarTile),style:{width:`${d}px`,height:`${m}px`},muted:!0,autoPlay:!0,playsInline:!0,loop:!0,src:Object(N.i)(n)}):r.a.createElement("img",{className:l()(x.a.tileContent,x.a.avatarTile),style:{width:`${d}px`,height:`${m}px`},src:Object(N.j)(n,d,m)}),b=e.attributions&&e.attributions.publisher&&e.attributions.publisher.name||D[e.type],{formatMessage:w}=this.props.intl;return r.a.createElement("div",{style:{width:`${d}px`},className:x.a.tile,key:`${e.id}_${t}`},r.a.createElement("a",{href:e.url,rel:"noreferrer noopener",onClick:t=>this.props.handleEntryClicked&&this.props.handleEntryClicked(t,e),className:x.a.tileLink,style:{width:`${d}px`,height:`${m}px`}},f),r.a.createElement("div",{className:x.a.tileActions},"avatar"===e.type&&r.a.createElement(O.a,{stateKey:"overlay",stateValue:"avatar-editor",stateDetail:{avatarId:e.id},history:this.props.history,title:"Edit"},r.a.createElement(h.a,{icon:g.faPencilAlt})),"avatar_listing"===e.type&&r.a.createElement("a",{onClick:t=>{t.preventDefault(),this.props.onShowSimilar(e.id,e.name)},title:"Show Similar"},r.a.createElement(h.a,{icon:k.faSearch})),"avatar_listing"===e.type&&e.allow_remixing&&r.a.createElement("a",{onClick:t=>this.handleCopyAvatar(t,e),title:"Copy to my avatars"},r.a.createElement(h.a,{icon:v.faClone})),"scene_listing"===e.type&&e.allow_remixing&&r.a.createElement("a",{onClick:t=>this.handleCopyScene(t,e),title:"Copy to my scenes"},r.a.createElement(h.a,{icon:v.faClone})),"scene"===e.type&&e.project_id&&r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Object(R.h)(`/spoke/projects/${e.project_id}`),title:w({id:"scene.edit_button"})},r.a.createElement(h.a,{icon:g.faPencilAlt})),"room"===e.type&&this.props.handleEntryInfoClicked&&e.description&&r.a.createElement("a",{title:"room info",onClick:t=>{t.preventDefault(),this.props.handleEntryInfoClicked(e)}},r.a.createElement(h.a,{icon:y.faInfo}))),e.favorited&&r.a.createElement("div",{className:x.a.favorite},r.a.createElement(h.a,{icon:S.faStar})),!e.type.endsWith("_image")&&r.a.createElement("div",{className:x.a.info},r.a.createElement("a",{href:e.url,rel:"noreferrer noopener",className:x.a.name,onClick:t=>this.props.handleEntryClicked&&this.props.handleEntryClicked(t,e)},e.name||" "),!i&&!s&&r.a.createElement("div",{className:x.a.attribution},r.a.createElement("div",{className:x.a.creator},o&&void 0===o.name&&r.a.createElement("span",null,o),o&&o.name&&!o.url&&r.a.createElement("span",null,o.name),o&&o.name&&o.url&&r.a.createElement("a",{href:o.url,target:"_blank",rel:"noopener noreferrer"},o.name)),b&&r.a.createElement("div",{className:x.a.publisher},r.a.createElement("i",null,r.a.createElement(h.a,{icon:_.faExternalLinkAlt}))," ",r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},b))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:x.a.attribution},r.a.createElement("div",{className:x.a.lastJoined},r.a.createElement(p.a,{id:"media-browser.hub.joined-prefix"}),u()(e.last_activated_at).fromNow())),r.a.createElement("div",{className:x.a.presence},r.a.createElement(h.a,{icon:E.faUsers}),r.a.createElement("span",null,e.member_count)))))})}render(){const{urlSource:e,hasNext:t,hasPrevious:n,page:o,isVariableWidth:a}=this.props,i=this.props.entries||[],[s,c]=this.getTileDimensions(!1,"avatars"===e);return r.a.createElement("div",{className:x.a.body},r.a.createElement("div",{className:l()({[x.a.tiles]:!0,[x.a.tilesVariable]:a})},("avatars"===e||"scenes"===e)&&r.a.createElement("div",{style:{width:`${s}px`,height:`${c}px`},className:l()({[x.a.tile]:!0,[x.a.createTile]:!0,[x.a.createAvatarTile]:"avatars"===e})},"scenes"===e?r.a.createElement(C.a,{name:"enable_spoke"},r.a.createElement("a",{href:"/spoke/new",rel:"noopener noreferrer",target:"_blank",className:x.a.tileLink},r.a.createElement("div",{className:x.a.tileContent},r.a.createElement(h.a,{icon:w.faPlus}),r.a.createElement(p.a,{id:"media-browser.create-scene"})))):r.a.createElement("a",{onClick:e=>{e.preventDefault(),window.dispatchEvent(new CustomEvent("action_create_avatar"))},className:x.a.tileLink},r.a.createElement("div",{className:x.a.tileContent},r.a.createElement(h.a,{icon:w.faPlus}),r.a.createElement(p.a,{id:"media-browser.create-avatar"})))),i.map(this.entryToTile)),(t||n)&&this.props.handlePager&&r.a.createElement("div",{className:x.a.pager},r.a.createElement("a",{className:l()({[x.a.previousPage]:!0,[x.a.pagerButtonDisabled]:!n}),onClick:()=>this.props.handlePager(-1)},r.a.createElement(h.a,{icon:f.faAngleLeft})),r.a.createElement("div",{className:x.a.pageNumber},o),r.a.createElement("a",{className:l()({[x.a.nextPage]:!0,[x.a.pagerButtonDisabled]:!t}),onClick:()=>this.props.handlePager(1)},r.a.createElement(h.a,{icon:b.faAngleRight}))))}}I(L,"propTypes",{intl:i.a.object,entries:i.a.array,hasNext:i.a.bool,hasPrevious:i.a.bool,isVariableWidth:i.a.bool,page:i.a.number,history:i.a.object,urlSource:i.a.string,handleEntryClicked:i.a.func,handleEntryInfoClicked:i.a.func,handlePager:i.a.func,onCopyAvatar:i.a.func,onCopyScene:i.a.func,onShowSimilar:i.a.func}),t.a=Object(p.d)(L)},27:function(e,t,n){e.exports={"hero-content":"index__hero-content__11fJu",heroContent:"index__hero-content__11fJu","cta-buttons":"index__cta-buttons__3SD-3",ctaButtons:"index__cta-buttons__3SD-3","primary-button":"index__primary-button__r8Kw5",primaryButton:"index__primary-button__r8Kw5","secondary-button":"index__secondary-button__swDOR",secondaryButton:"index__secondary-button__swDOR","loading-text":"index__loading-text__3tobw",loadingText:"index__loading-text__3tobw",home:"index__home__3xkuf","main-content":"index__main-content__1L8Sf",mainContent:"index__main-content__1L8Sf",noninteractive:"index__noninteractive__3jQRs","header-content":"index__header-content__1XfPi",headerContent:"index__header-content__1XfPi","title-and-nav":"index__title-and-nav__23waG",titleAndNav:"index__title-and-nav__23waG",links:"index__links__p0Llg","sign-in":"index__sign-in__2L8Bu",signIn:"index__sign-in__2L8Bu","video-container":"index__video-container__2Z1bb",videoContainer:"index__video-container__2Z1bb","background-video":"index__background-video__1XJJZ",backgroundVideo:"index__background-video__1XJJZ",container:"index__container__cs00S",logo:"index__logo__2zl0D","logo-margin":"index__logo-margin__1MXYL",logoMargin:"index__logo-margin__1MXYL",blurb:"index__blurb__3k96f","hero-panel":"index__hero-panel__2AEHu",heroPanel:"index__hero-panel__2AEHu","cta-button":"index__cta-button__vTmK6",ctaButton:"index__cta-button__vTmK6",rightPanel:"index__rightPanel__2JG0C","hero-video":"index__hero-video__Yf3bL",heroVideo:"index__hero-video__Yf3bL","have-code":"index__have-code__1EZm-",haveCode:"index__have-code__1EZm-","secondary-link":"index__secondary-link__3gfJB",secondaryLink:"index__secondary-link__3gfJB","footer-content":"index__footer-content__2GrlX",footerContent:"index__footer-content__2GrlX","powered-by":"index__powered-by__15oVe",poweredBy:"index__powered-by__15oVe",prefix:"index__prefix__3b2dq",link:"index__link__ujnyC","company-logo":"index__company-logo__t72Nl",companyLogo:"index__company-logo__t72Nl",top:"index__top__1gv9a",bottom:"index__bottom__2Zyu1"}},31:function(e,t,n){e.exports={title:"room-info-dialog__title__3-3CO","room-info":"room-info-dialog__room-info__3XkbS",roomInfo:"room-info-dialog__room-info__3XkbS","scene-screenshot":"room-info-dialog__scene-screenshot__3PWz-",sceneScreenshot:"room-info-dialog__scene-screenshot__3PWz-","scene-details":"room-info-dialog__scene-details__2pYml",sceneDetails:"room-info-dialog__scene-details__2pYml","scene-main":"room-info-dialog__scene-main__2mhXj",sceneMain:"room-info-dialog__scene-main__2mhXj","scene-name":"room-info-dialog__scene-name__1bqGh",sceneName:"room-info-dialog__scene-name__1bqGh","scene-creator":"room-info-dialog__scene-creator__3_za4",sceneCreator:"room-info-dialog__scene-creator__3_za4","scene-attributions":"room-info-dialog__scene-attributions__QpYVd",sceneAttributions:"room-info-dialog__scene-attributions__QpYVd",attribution:"room-info-dialog__attribution__I9_V-","attribution-name":"room-info-dialog__attribution-name__3JTpI",attributionName:"room-info-dialog__attribution-name__3JTpI","attribution-author":"room-info-dialog__attribution-author__BouZB",attributionAuthor:"room-info-dialog__attribution-author__BouZB",description:"room-info-dialog__description__2jXMQ",subtitle:"room-info-dialog__subtitle__1pamf","hub-title":"room-info-dialog__hub-title__2rQtj",hubTitle:"room-info-dialog__hub-title__2rQtj"}},36:function(e){e.exports={en:{"app-name":"App","editor-name":"Scene Editor","contact-email":"app@company.com","company-name":"Company","share-hashtag":"#app","app-description":"Share a virtual room with friends.\nWatch videos, play with 3D objects, or just hang out.","app-tagline":"Private social VR in your web browser","auth.verified-title":"Email Verified!","auth.verify-failed":"Unable to sign in with this link. It may have already been used or has expired.","auth.verified":"Your email has been verified!\nYou can now close this browser tab and return to %app-name%.","auth.spoke-verified":"Your email has been verified!\nYou can now close this browser tab and return to %editor-name%.","sign-in.prompt":"Sign in to pin objects in rooms.","sign-in.admin":"Check your email for a verification email. Once verified, enter your email to create your account or sign in.","sign-in.admin-no-permission":"You don't have access to admin tools. Sign into another account or ask an administrator to grant you permission.","sign-in.hub":"An account is required to join rooms.\n\nEnter your email to create your account or sign in.","sign-in.auth-started":"Email sent!\n\nTo continue, click on the link in the email using your phone, tablet, or PC.\n\nNo email? You may not be able to create an account.","sign-in.pin":"You'll need to sign in to pin objects.","sign-in.pin-complete":"You are now signed in.","sign-in.unpin":"You'll need to sign in to un-pin objects.","sign-in.unpin-complete":"You are now signed in.","sign-in.change-scene":"You'll need to sign in to change the scene.","sign-in.change-scene-complete":"You are now signed in.","sign-in.room-settings":"You'll need to sign in to change the room's settings.","sign-in.room-settings-complete":"You are now signed in.","sign-in.close-room":"You'll need to sign in to close the room.","sign-in.close-room-complete":"You are now signed in.","sign-in.mute-user":"You'll need to sign in to mute other users.","sign-in.mute-user-complete":"You are now signed in.","sign-in.kick-user":"You'll need to sign in to kick other users.","sign-in.kick-user-complete":"You are now signed in.","sign-in.add-owner":"You'll need to sign in to assign moderators.","sign-in.add-owner-complete":"You are now signed in.","sign-in.remove-owner":"You'll need to sign in to assign moderators.","sign-in.remove-owner-complete":"You are now signed in.","sign-in.create-avatar":"You'll need to sign in to create avatars.","sign-in.create-avatar-complete":"You are now signed in.","sign-in.favorite-room":"You'll need to sign in to add this room to your favorites.","sign-in.favorite-rooms":"You'll need to sign in to add favorite rooms.","sign-in.favorite-room-complete":"You are now signed in.","sign-in.favorite-rooms-complete":"You are now signed in.","sign-in.tweet":"You'll need to sign in to send tweets.","sign-in.tweet-complete":"You are now signed in.","sign-in.as":"Signed in as","sign-in.in":"Sign In","sign-in.out":"Sign Out","room-settings.apply":"Apply","room-settings.name-subtitle":"Room Name","room-settings.description-subtitle":"Room Description","room-settings.room-access-subtitle":"Room Access","room-settings.permissions-subtitle":"Room Member Permissions","room-settings.spawn_and_move_media":"Create and move objects","room-settings.spawn_camera":"Create cameras","room-settings.spawn_drawing":"Create drawings","room-settings.pin_objects":"Pin objects","room-settings.access-private":"Private","room-settings.access-private-subtitle":"Only those with the link can join","room-settings.access-public":"Public","room-settings.access-public-subtitle":"Listed on the homepage","room-info.title":"Room & Scene Info","room-info.scene-info":"Scene Info","close-room.message":"Closing this room will remove yourself and others from the room, shutting it down permanently.\n\nAre you sure? This action cannot be undone.","close-room.confirm":"Yes, Close Room","close-room.cancel":"Cancel","promote.message":"Promoting a user will grant full access to room settings and moderation tools.\n\nAre you sure?","promote.confirm-prefix":"Yes, Promote ","promote.cancel":"Cancel","entry.room":"lobby","entry.enter-room-title":"Lobby","entry.enter-room":"Enter Room","entry.leave-room":"Leave Room","entry.change-scene":"Choose Scene","entry.in-lobby-notice":"You are viewing this room from the lobby.","entry.screen-prefix":"Enter on ","entry.desktop-screen":"Screen","entry.mobile-screen":"Phone","entry.mobile-safari":"Safari","entry.generic-prefix":" ","entry.generic-medium":"Connected VR Headset","entry.generic-subtitle-desktop":"Oculus or SteamVR","entry.gearvr-prefix":"Enter on ","entry.gearvr-medium":"Gear VR","entry.choose-device":"Choose Device","entry.device-medium":"Enter on Standalone VR","entry.device-subtitle-desktop":"Wireless VR Headsets","entry.device-subtitle-mobile":"Wireless VR Headsets","entry.device-subtitle-vr":"Phone or PC","entry.entry-disallowed":"Watch from Lobby","entry.entry-disallowed-subtitle":"Room is Full","entry.cardboard":"Enter on Google Cardboard","entry.daydream-prefix":"Enter on ","entry.daydream-medium":"Daydream","entry.daydream-via-chrome":"Using Google Chrome","entry.invite-others":"invite others","entry.share-button":"Share","entry.desktop.invite-tip":"Nobody is here yet. Share this room to get together.","entry.mobile.invite-tip":"Share to get together.","entry.return-to-vr":"Return to VR","entry.open-in-window":"Open in Tab","entry.lobby":"Lobby","entry.back":"Back","entry.notify_me":"Notify me when others arrive","entry.mute-on-entry":"Mute my microphone","profile.save":"Accept","profile.display_name.validation_warning":"Alphanumerics and hyphens. At least 3 characters, no more than 32","profile.header":"Name & Avatar","profile.terms_of_use":"Terms of Use","profile.privacy_notice":"Privacy Notice","profile.choose_avatar":"Browse Avatars","profile.tabs.legacy":"Default","profile.tabs.skinnable":"Custom Skin","profile.tabs.url":"Custom Model","avatar-editor.info":"Find more custom avatar resources","avatar-editor.info-link":"here","avatar-editor.external-editor-info":"Create a custom skin for this avatar: ","avatar-preview.loading-failed":"Loading failed\nPlease choose another avatar","media-browser.search-placeholder.scenes":"Search Scenes...","media-browser.search-placeholder.avatars":"Search Avatars...","media-browser.search-placeholder.videos":"Search for Videos...","media-browser.search-placeholder.images":"Search for Images...","media-browser.search-placeholder.youtube":"Search for Youtube videos...","media-browser.search-placeholder.gifs":"Search for GIFs...","media-browser.search-placeholder.twitch":"Search for Twitch streams...","media-browser.search-placeholder.sketchfab":"Search Sketchfab Models...","media-browser.search-placeholder.poly":"Search Google Poly Models...","media-browser.search-placeholder.base":"Search...","media-browser.favorites-header":"Favorite Rooms","media-browser.add_custom_object":"Custom URL or File","media-browser.add_custom_scene":"Custom Scene","media-browser.add_custom_avatar":"Avatar GLB URL","media-browser.privacy_policy":"Privacy Policy","media-browser.report_issue":"Report Issue","media-browser.powered_by.images":"Search by Bing | ","media-browser.powered_by.videos":"Search by Bing | ","media-browser.powered_by.youtube":"Search by Google | ","media-browser.powered_by.gifs":"Search by Tenor | ","media-browser.powered_by.sketchfab":"Search by Sketchfab | ","media-browser.powered_by.poly":"Search by Google | ","media-browser.powered_by.twitch":"Search by Twitch | ","media-browser.powered_by.scenes":"Made with ","media-browser.powered_by.avatars":" ","media-browser.empty.images":"No results. Try entering a new search above.","media-browser.empty.videos":"No results. Try entering a new search above.","media-browser.empty.youtube":"No results. Try entering a new search above.","media-browser.empty.gifs":"No result. Try entering a new search above.","media-browser.empty.sketchfab":"No results. Try entering a new search above.","media-browser.empty.poly":"No results. Try entering a new search above.","media-browser.empty.twitch":"No results. Try entering a new search above.","media-browser.empty.favorites":"You don't have any favorites. Click a ⭐ to add to your favorites.","media-browser.nav_title.youtube":"YouTube","media-browser.nav_title.videos":"Videos","media-browser.nav_title.images":"Images","media-browser.nav_title.gifs":"GIFs","media-browser.nav_title.scenes":"Scenes","media-browser.nav_title.avatars":"Avatars","media-browser.nav_title.sketchfab":"Sketchfab","media-browser.nav_title.poly":"Google Poly","media-browser.nav_title.twitch":"Twitch","media-browser.create-avatar":"Create Avatar","media-browser.create-scene":"Create Scene with %editor-name%","media-browser.hub.joined-prefix":"Visited ","media-browser.similar-to-facet":'Similar to: "{name}"',"audio.title":"Audio Setup","audio.talk_to_test":"talk","audio.click_to_test":"click","audio.subtitle-desktop":"Confirm HMD speaker output","audio.subtitle-mobile":"Earphones are recommended","audio.enter-now":"Enter Now","audio.hmd-mic-warning":"Your HMD mic is not chosen","audio.grant-title":"Grant mic permissions","audio.grant-subtitle":"Mic access needed to be heard by others","audio.granted-title":"Mic permissions granted","audio.granted-subtitle":"You can still mute yourself in-game","audio.granted-next":"Next","exit.subtitle.exited":"Your session has ended. Refresh your browser to start a new one.","exit.subtitle.closed":"This room is no longer available.","exit.subtitle.denied":"You are not permitted to join this room. Please request permission from the room creator.","exit.subtitle.disconnected":"You have disconnected from the room. Refresh the page to try to reconnect.","exit.subtitle.left":"You have left the room.","exit.subtitle.full":"This room is full, please try again later.","exit.subtitle.scene_error":"The scene failed to load.","exit.subtitle.connect_error":"Unable to connect to this room, please try again later.","exit.subtitle.version_mismatch":"The version you deployed is not available yet. Your browser will refresh in 5 seconds.","autoexit.title":"Auto-ending session in ","autoexit.title_units":" seconds","autoexit.concurrent_subtitle":"You have started another session.","autoexit.idle_subtitle":"You have been idle for too long.","autoexit.cancel":"CANCEL","presence.entered_room":"entered the room.","presence.entered_lobby":"entered the lobby.","presence.join_lobby":"joined the lobby.","presence.join_room":"joined the room.","presence.leave":"left.","presence.name_change":"is now known as","presence.scene_change":"changed the scene to","presence.hub_name_change":"changed the name of the room to","presence.in_lobby":"Lobby","presence.in_room":"In Room","home.create_a_room":"Create a Room","home.desktop.add_pwa":"Install Desktop App","home.mobile.add_pwa":"Add to Home Screen","home.take_a_tour":"Take a Tour","home.room_create_options":"options","home.room_create_button":"Create Room","home.create_name.validation_warning":"Invalid name, limited to 4 to 64 characters and limited symbols.","home.powered_by_prefix":"Powered by","home.powered_by_link":"Hubs Cloud","home.join_us":"Join the Conversation","home.have_code":"Have a room code?","home.add_to_discord_1":"Add the","home.add_to_discord_2":"%app-name% Bot","home.add_to_discord_3":"to Discord","home.create_with_spoke":"Create a Scene","home.report_issue":"Report Issues","home.source_link":"Source","home.whats_new_link":"What's New","home.about_link":"About","home.community_link":"Community","home.cloud_link":"Hubs Cloud","home.admin":"Admin","home.privacy_notice":"Privacy Notice","home.terms_of_use":"Terms of Use","home.made_with_love":"made with 🦆 by ","home.environment_author_by":" by ","dialog.close":"close","link.link_page_header_entry":"Enter your code:","link.link_page_header_headset":"Enter code:","link.linking_a_headset":"Have a letter code?","link.create_a_room":"Create a new room","link.try_again":"We couldn't find that code.\nPlease try again.","help.report_issue":"Report an Issue","scene.create_button":"Create a room with this scene","scene.tweet_button":"Share on Twitter","scene.unavailable":"This scene is no longer available.","scene.remix_button":"Remix in %editor-name%","scene.edit_button":"Edit in %editor-name%","link.in_your_browser":"In your device's web browser, go to:","link.enter_code":"Then, enter this one-time letter code:","link.do_not_close":"Your account and avatar will be transferred to the device.\nKeep this page open to use this code.","link.connect_headset":"Enter on Device","link.cancel":"cancel","invite.enter_via":"Or use expiring ","invite.enter_via_modal":"Others may enter via ","invite.tweet":"tweet","invite.and_enter_code":" code:","invite.duration_of_code":"new code every 72 hours","invite.or_visit":"Share room link:","invite.or_visit_modal":"or by visiting permalink","invite.embed":"or embed on a page","invite.embed-tip":"Please be mindful of where you embed a %app-name% room.\nGo to Room Settings to lock down permissions for this room.","commands.fly":"Toggle fly mode.","commands.grow":"Increase your avatar's size.","commands.shrink":"Decrease your avatar's size.","commands.scene":"Change the scene.","commands.rename":"Rename the room.","commands.help":"Show help.","commands.leave":"Disconnect from the room.","commands.duck":"The duck tested well. Quack.","commands.capture":"Capture a 15 second video.","commands.debug":"Toggle physics debug rendering.","commands.vrstats":"Toggle stats in VR.","preferences.muteMicOnEntry":"Mute microphone on entry","preferences.enableOnScreenJoystickLeft":"Enable left on-screen joystick for moving around","preferences.enableOnScreenJoystickRight":"Enable right on-screen joystick for looking around","preferences.onlyShowNametagsInFreeze":"Only show nametags while frozen","preferences.maxResolution":"Max Resolution (width x height in pixels)","preferences.globalVoiceVolume":"Incoming Voice Volume","preferences.globalMediaVolume":"Media Volume","preferences.materialQualitySetting":"Material quality (requires restart)","preferences.snapRotationDegrees":"Rotation per snap (in degrees)","preferences.allowMultipleHubsInstances":"Disable check for multiple hubs instances","preferences.baseMovementSpeed":"Base movement speed","preferences.disableMovement":"Disable movement","preferences.disableBackwardsMovement":"Disable backwards movement","preferences.disableStrafing":"Disable strafing","preferences.disableTeleporter":"Disable teleporter","settings.return-to-vr":"Return to VR","settings.change-avatar":"Set Name & Avatar","settings.change-scene":"Choose a Scene","settings.favorites":"Favorite Rooms","settings.preferences":"Preferences","settings.room-settings":"Room Settings","settings.close-room":"Close Room...","settings.room-info":"Room & Scene Info","settings.create-room":"New Room","settings.enable-streamer-mode":"Camera Mode","settings.disable-streamer-mode":"Exit Camera Mode","settings.send-feedback":"Send Feedback","settings.whats-new":"What's New","settings.features":"Help","settings.controls":"Controls","settings.community":"Join Discord","settings.tips":"Start Tour","settings.report":"Report Issue","settings.terms":"Terms of Use","settings.privacy":"Privacy Notice","settings.help":"Help","settings.row-profile":"You","settings.row-room":"Room","settings.row-tools":"Tools","tips.mobile.video_share_mode":"Tap to stop sharing video.","tips.mobile.pen_mode":"Tap icon again to end drawing.","tips.mobile.mute_mode":"You are muted. Tap to unmute.","tips.mobile.freeze_mode":"Two-finger tap to hide menus.","tips.mobile.look":"Welcome! 👋 Tap and drag to look around.","tips.mobile.locomotion":"Great! To move, pinch with two fingers.","tips.mobile.spawn_menu-pre":"Use the ","tips.mobile.spawn_menu-post":"at the top to create objects.","tips.mobile.freeze_gesture":"Two-finger tap to show menus.","tips.mobile.object_grab":"Drag an object to move or throw it.","tips.mobile.object_rotate_button-pre":"Tap and drag ","tips.mobile.object_rotate_button-post":" to rotate.","tips.mobile.object_scale_button-pre":"Tap and drag ","tips.mobile.object_scale_button-post":" to scale.","tips.mobile.object_recenter_button-pre":"Tap ","tips.mobile.object_recenter_button-post":" to have the object face you.","tips.mobile.object_pin":"Pin an object to save it to the room.","tips.mobile.video_share_failed":"No permission granted.","tips.mobile.invite":"Use the Share button to share this room.","tips.mobile.feedback":"🦆 Quack! Want to help Hubs?","tips.mobile.feedback-link":"Tell the Duck.","tips.desktop.video_share_mode":"You're streaming. Select again to stop sharing video.","tips.desktop.pen_mode":"Press ESC or right click to drop pen. Ctrl-Z to undo.","tips.desktop.mute_mode":"You are muted. Click or press M to un-mute.","tips.desktop.look":"Welcome to %app-name%! Let's take a quick tour. 👋 Click and drag to look around.","tips.desktop.locomotion":"Use the W A S D keys to move. Hold shift to boost.","tips.desktop.turning":"Perfect. Use the Q and E keys to rotate.","tips.desktop.spawn_menu-pre":"To create objects, click the ","tips.desktop.spawn_menu-post":"button at the top of the screen, or press Ctrl 1 through 7.","tips.desktop.freeze_gesture":"Press and hold spacebar to show object menus.","tips.desktop.menu_hover":"Now, point the cursor at an object to show the menu.","tips.desktop.object_grab":"Click and drag an object to move it. Or, flick to throw it!","tips.desktop.object_pin":"Pin an object to save it to the room.","tips.desktop.object_zoom":"Scroll to move this object towards and away from you.","tips.desktop.object_rotate_button-pre":"Click and drag ","tips.desktop.object_rotate_button-post":" to rotate the object.","tips.desktop.object_scale_button-pre":"Click and drag ","tips.desktop.object_scale_button-post":" to scale the object.","tips.desktop.object_recenter_button-pre":"Click ","tips.desktop.object_recenter_button-post":" to rotate the object to face you. Helpful if you drop it!","tips.desktop.object_scale":"Hold shift and scroll to scale it bigger and smaller.","tips.desktop.pen_color":"Use Shift-Q and Shift-E to change the pen color.","tips.desktop.pen_size":"Hold Shift and scroll to change the pen size.","tips.desktop.invite":"Nobody else is here. Use the Share button at the top to share this room.","tips.desktop.video_share_failed":"You need to grant permissions to stream video.","tips.streaming":"Now broadcasting to the lobby. Click to exit.","tips.desktop.watching":"You're in the lobby. Others cannot see or hear you.","tips.desktop.feedback":"🦆 Quack! Want to help us make Hubs better?","tips.desktop.feedback-link":"Talk to the Feedback Duck.","tips.watching.back":"Enter Room","tips.mobile.watching":"You're in the lobby.","tips.watching-exit":"Back","lobby.watching":"Watching ","loader.entering_lobby":"Entering lobby...","loader.loading":"Loading ","loader.connecting":"Connecting...","loader.connected":"Connected.","loader.object":"object","loader.objects":"objects","change-scene-dialog.change-scene":"Change Scene","change-scene-dialog.create-in-spoke":"Or, create a new scene using %editor-name%.","change-scene-dialog.new-spoke-project":"Launch %editor-name%","invalid-scene-url":"This URL does not point to a scene or valid GLB.","avatar-url-dialog.apply":"Apply","interstitial.prompt":"Continue","feedback.prompt":"🦆 Feedback ","help.prompt":"Help","help.docs_url":"https://github.com/mozilla/hubs/wiki/Hubs-Features","hide-ui.prompt":"Hide All","discord.primary_tagline":"Share a virtual room with your community.\nWatch videos, play with 3D objects, or just hang out.","discord.secondary_tagline":"No downloads or sign up. Full VR support too.","discord.contact_us":"Invite Bot to Server","discord.community_link":"Hubs Discord","discord.splash_tag":"Designed for serious businessing.","client-info.kick-button":"Kick","client-info.hide-button":"Hide","client-info.unhide-button":"Un-hide ","client-info.mute-button":"Mute","client-info.cancel":"Cancel","client-info.add-owner":"Promote","client-info.remove-owner":"Demote","object-info.remove-button":"Remove","object-info.open-link":"Open Link","object-info.waypoint":"Go To","object-info.pin-button":"Pin","object-info.raise-lights":"Show Background","object-info.lower-lights":"Hide Background","object-info.unpin-button":"Unpin","avatar-landing.select":"Select","avatar-landing.selected":"This is your current avatar","leave-room-dialog.join-room.message":"Joining a new room will leave this one. Are you sure?","leave-room-dialog.join-room.confirm":"Join Room","leave-room-dialog.create-room.message":"Creating a new room will leave this one. Are you sure?","leave-room-dialog.create-room.confirm":"Leave Room","embed.load-button":"Load Room","embed.presence-warning":"This room is embedded, so may be visible to visitors on other websites.","tweet-dialog.tweet":"Tweet","tweet-dialog.posted":"Your tweet has been posted.","tweet-dialog.close":"close","oauth-dialog.sign-in.twitter":"Connect to Twitter","oauth-dialog.sign-in.discord":"Sign in to Discord","oauth-dialog.message.twitter":"Connect to Twitter to send tweets from %app-name%.","cloud.primary_tagline":"Hubs Cloud deploys server infrastructure for private,\ncollaborative 3D rooms that can be accessed on your\ndesktop, mobile phone, or VR headset.","cloud.secondary_tagline":"Get it today on the AWS Marketplace","cloud.call_to_action":"View AWS Marketplace Listing","cloud.splash_tag":"Configurable infrastructure for your own Hubs stack"}}},38:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var o=n(58),r=n.n(o),a=n(78);const{detect:i}=n(106),s=i();let l=!1;function c(e){if(!window.AFRAME)return;const t=AFRAME.utils.device.isMobile();r.a.isFullscreen&&!AFRAME.utils.device.isMobileVR()&&"firefox"===s.name&&(l=!0,r.a.exit().then(()=>{e.focus()})),t||e.select()}function u(){l?l=!1:Object(a.b)()}},4:function(e,t,n){"use strict";n(54),n(55),n(56);var o=n(70),r=n.n(o);const a={};let i=!1;if(["RETICULUM_SERVER","THUMBNAIL_SERVER","CORS_PROXY_SERVER","NON_CORS_PROXY_DOMAINS","SENTRY_DSN","GA_TRACKING_ID","SHORTLINK_DOMAIN","BASE_ASSETS_PATH"].forEach(e=>{const t=document.querySelector(`meta[name='env:${e.toLowerCase()}']`);a[e]=t?t.getAttribute("content"):{NODE_ENV:"production",SHORTLINK_DOMAIN:"hub.link",RETICULUM_SERVER:"dev.reticulum.io",THUMBNAIL_SERVER:"nearspark-dev.reticulum.io",CORS_PROXY_SERVER:"cors-proxy-dev.reticulum.io",NON_CORS_PROXY_DOMAINS:"hubs.local,dev.reticulum.io",BASE_ASSETS_PATH:"/custom-hubs-template/"}[e],"BASE_ASSETS_PATH"===e&&a[e]&&(n.p=a[e],r.a.GlobalWorkerOptions.workerSrc=`${a[e]}../assets/js/pdfjs-dist@2.1.266/build/pdf.worker.js`)}),a.AVAILABLE_INTEGRATIONS=window.AVAILABLE_INTEGRATIONS||{},window.APP_CONFIG){a.APP_CONFIG=window.APP_CONFIG;const{theme:e}=a.APP_CONFIG;if(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(`--${n}: ${e[n]};`);const n=document.createElement("style");n.innerHTML=`:root{${t.join("\n")}}`,document.head.prepend(n)}a.APP_CONFIG.features||(a.APP_CONFIG.features={})}else a.APP_CONFIG={features:{}};a.feature=e=>{const t=a.APP_CONFIG.features[e];if("boolean"==typeof t){const n=!1;return"enable_spoke"===e&&i||n||t}return t};let s={};a.image=(e,t)=>{const n=a.APP_CONFIG&&a.APP_CONFIG.images&&a.APP_CONFIG.images[e]||s[e];return n&&t?`url(${n})`:n},a.link=(e,t)=>a.APP_CONFIG&&a.APP_CONFIG.links&&a.APP_CONFIG.links[e]||t,a.setIsAdmin=e=>{i=e},a.isAdmin=()=>i,t.a=a},43:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return g}),n.d(t,"h",function(){return y});var o=n(9),r=n(12);function a(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function s(e){a(i,o,r,s,l,"next",e)}function l(e){a(i,o,r,s,l,"throw",e)}s(void 0)})}}const s="/api/v1/avatars",l={SKINNABLE:"skinnable",URL:"url"};function c(e){return e.startsWith("http")?l.URL:l.SKINNABLE}function u(){return(u=i(function*(e){const t=yield Object(o.d)(`/api/v1/avatars/${e}`);return t&&t.avatars&&t.avatars[0]})).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=i(function*(e){switch(c(e)){case l.SKINNABLE:return function(e){return u.apply(this,arguments)}(e);case l.URL:return{avatar_id:e,gltf_url:Object(r.i)(e)}}})).apply(this,arguments)}function p(){return(p=i(function*(e){return d(e).then(e=>e&&e.gltf_url)})).apply(this,arguments)}function h(e){switch(c(e)){case l.SKINNABLE:return function(e){return p.apply(this,arguments)}(e);case l.URL:return Object(r.i)(e);default:return e}}function f(e){return b.apply(this,arguments)}function b(){return(b=i(function*(e){switch(c(e)){case l.SKINNABLE:return d(e).then(e=>e.files.thumbnail);default:return"https://asset-bundles-prod.reticulum.io/bots/avatar_unavailable.png"}})).apply(this,arguments)}const _="Bot_PBS";function g(e){if(e.materials.find(e=>e.name===_))return e;function t(t){if(!t.primitives)return;const n=t.primitives.find(e=>void 0!==e.material);return n&&e.materials[n.material]}let n=e.scenes[e.scene].nodes.slice(0);for(;n.length;){const o=e.nodes[n.shift()],r=void 0!==o.mesh&&t(e.meshes[o.mesh]);if(r){r.name=_;break}o.children&&(n=n.concat(o.children))}return e}function y(e,t){return v.apply(this,arguments)}function v(){return(v=i(function*(e,t){const n={parent_avatar_listing_id:e,name:t,files:{}};return Object(o.d)(s,"POST",{avatar:n})})).apply(this,arguments)}},51:function(e,t,n){"use strict";var o=n(139),r=n(140),a=n(79),i=n.n(a),s=n(66),l=n.n(s),c=n(77),u=n(9),d=n(76),m=n.n(d);function p(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}const h=["Baers-Pochard","Baikal-Teal","Barrows-Goldeneye","Blue-Billed","Blue-Duck","Blue-Winged","Brown-Teal","Bufflehead","Canvasback","Cape-Shoveler","Chestnut-Teal","Chiloe-Wigeon","Cinnamon-Teal","Comb-Duck","Common-Eider","Common-Goldeneye","Common-Merganser","Common-Pochard","Common-Scoter","Common-Shelduck","Cotton-Pygmy","Crested-Duck","Crested-Shelduck","Eatons-Pintail","Falcated","Ferruginous","Freckled-Duck","Gadwall","Garganey","Greater-Scaup","Green-Pygmy","Grey-Teal","Hardhead","Harlequin","Hartlaubs","Hooded-Merganser","Hottentot-Teal","Kelp-Goose","King-Eider","Lake-Duck","Laysan-Duck","Lesser-Scaup","Long-Tailed","Maccoa-Duck","Mallard","Mandarin","Marbled-Teal","Mellers-Duck","Merganser","Northern-Pintail","Orinoco-Goose","Paradise-Shelduck","Plumed-Whistler","Puna-Teal","Pygmy-Goose","Radjah-Shelduck","Red-Billed","Red-Crested","Red-Shoveler","Ring-Necked","Ringed-Teal","Rosy-Billed","Ruddy-Shelduck","Salvadoris-Teal","Scaly-Sided","Shelduck","Shoveler","Silver-Teal","Smew","Spectacled-Eider","Spot-Billed","Spotted-Whistler","Steamerduck","Stellers-Eider","Sunda-Teal","Surf-Scoter","Tufted-Duck","Velvet-Scoter","Wandering-Whistler","Whistling-duck","White-Backed","White-Cheeked","White-Winged","Wigeon","Wood-Duck","Yellow-Billed"];function f(e){return e[Math.floor(Math.random()*e.length)]}function b(){return _.apply(this,arguments)}function _(){var e;return e=function*(){const e=(yield Object(u.d)("/api/v1/media/search?filter=default&source=avatar_listings")).entries;return 0===e.length?new URL(m.a,location.href).href:f(e.map(e=>e.id))},(_=function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){p(a,o,r,i,s,"next",e)}function s(e){p(a,o,r,i,s,"throw",e)}i(void 0)})}).apply(this,arguments)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){w(e,t,n[t])})}return e}function y(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){y(a,o,r,i,s,"next",e)}function s(e){y(a,o,r,i,s,"throw",e)}i(void 0)})}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return P}),n.d(t,"b",function(){return x});const k="___hubs_store",E=Symbol(),S="ret-oauth-flow-account-credentials",C=new o.Validator,P={id:"/HubsStore",definitions:{profile:{type:"object",additionalProperties:!1,properties:{displayName:{type:"string",pattern:"^[A-Za-z0-9 -]{3,32}$"},avatarId:{type:"string"},personalAvatarId:{type:"string"}}},credentials:{type:"object",additionalProperties:!1,properties:{token:{type:["null","string"]},email:{type:["null","string"]}}},activity:{type:"object",additionalProperties:!1,properties:{hasFoundFreeze:{type:"boolean"},hasChangedName:{type:"boolean"},hasAcceptedProfile:{type:"boolean"},lastEnteredAt:{type:"string"},hasPinned:{type:"boolean"},hasRotated:{type:"boolean"},hasRecentered:{type:"boolean"},hasScaled:{type:"boolean"},hasHoveredInWorldHud:{type:"boolean"},hasOpenedShare:{type:"boolean"},entryCount:{type:"number"}}},settings:{type:"object",additionalProperties:!1,properties:{lastUsedMicDeviceId:{type:"string"}}},preferences:{type:"object",additionalProperties:!1,properties:{muteMicOnEntry:{type:"bool"},enableOnScreenJoystickLeft:{type:"bool"},enableOnScreenJoystickRight:{type:"bool"},onlyShowNametagsInFreeze:{type:"bool"},allowMultipleHubsInstances:{type:"bool"},maxResolutionWidth:{type:"number"},maxResolutionHeight:{type:"number"},globalVoiceVolume:{type:"number"},globalMediaVolume:{type:"number"},snapRotationDegrees:{type:"number"},materialQualitySetting:{type:"string"},disableMovement:{type:"bool"},disableBackwardsMovement:{type:"bool"},disableStrafing:{type:"bool"},disableTeleporter:{type:"bool"}}},confirmedDiscordRooms:{type:"array",items:{type:"string"}},confirmedBroadcastedRooms:{type:"array",items:{type:"string"}},uploadPromotionTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{fileId:{type:"string"},promotionToken:{type:"string"}}}},creatorAssignmentTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},creatorAssignmentToken:{type:"string"}}}},embedTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},embedToken:{type:"string"}}}},onLoadActions:{type:"array",items:{type:"object",additionalProperties:!1,properties:{action:{type:"string"},args:{type:"object"}}}}},type:"object",properties:{profile:{$ref:"#/definitions/profile"},credentials:{$ref:"#/definitions/credentials"},activity:{$ref:"#/definitions/activity"},settings:{$ref:"#/definitions/settings"},preferences:{$ref:"#/definitions/preferences"},confirmedDiscordRooms:{$ref:"#/definitions/confirmedDiscordRooms"},confirmedBroadcastedRooms:{$ref:"#/definitions/confirmedBroadcastedRooms"},uploadPromotionTokens:{$ref:"#/definitions/uploadPromotionTokens"},creatorAssignmentTokens:{$ref:"#/definitions/creatorAssignmentTokens"},embedTokens:{$ref:"#/definitions/embedTokens"},onLoadActions:{$ref:"#/definitions/onLoadActions"}},additionalProperties:!1};class x extends c.a{constructor(){var e;super(),e=this,w(this,"_signOutOnExpiredAuthToken",()=>{if(!this.state.credentials.token)return;1e3*l()(this.state.credentials.token).exp<=Date.now()&&this.update({credentials:{token:null,email:null}})}),w(this,"initProfile",v(function*(){e._shouldResetAvatarOnInit?yield e.resetToRandomDefaultAvatar():e.update({profile:g({avatarId:yield b()},e.state.profile||{})}),e.state.activity.hasChangedName||e.update({profile:{displayName:`${f(h)}-${Math.floor(1e4+1e4*Math.random())}`}})})),w(this,"resetToRandomDefaultAvatar",v(function*(){e.update({profile:g({},e.state.profile||{},{avatarId:yield b()})})})),null===localStorage.getItem(k)&&localStorage.setItem(k,JSON.stringify({})),window.addEventListener("storage",e=>{e.key===k&&(delete this[E],this.dispatchEvent(new CustomEvent("statechanged")))}),this.update({activity:{},settings:{},credentials:{},profile:{},confirmedDiscordRooms:[],confirmedBroadcastedRooms:[],uploadPromotionTokens:[],creatorAssignmentTokens:[],embedTokens:[],onLoadActions:[],preferences:{}}),this._shouldResetAvatarOnInit=!1;const t=i.a.getJSON(S);t&&(this.update({credentials:t}),this._shouldResetAvatarOnInit=!0,i.a.remove(S)),this._signOutOnExpiredAuthToken()}get state(){return this.hasOwnProperty(E)||(this[E]=JSON.parse(localStorage.getItem(k))),this[E]}get credentialsAccountId(){return this.state.credentials.token?l()(this.state.credentials.token).sub:null}resetConfirmedBroadcastedRooms(){this.clearStoredArray("confirmedBroadcastedRooms")}resetTipActivityFlags(){this.update({activity:{hasRotated:!1,hasPinned:!1,hasRecentered:!1,hasScaled:!1,entryCount:0}})}bumpEntryCount(){const e=this.state.activity.entryCount||0;this.update({activity:{entryCount:e+1}})}enqueueOnLoadAction(e,t){this.update({onLoadActions:[{action:e,args:t}]})}executeOnLoadActions(e){for(let t=0;t<this.state.onLoadActions.length;t++){const{action:n,args:o}=this.state.onLoadActions[t];"emit_scene_event"===n&&e.emit(o.event,o.detail)}this.clearOnLoadActions()}clearOnLoadActions(){this.clearStoredArray("onLoadActions")}clearStoredArray(e){const t={};t[e]=[],this.update(t,{arrayMerge:(e,t)=>t})}update(e,t){const n=Object(r.a)(this.state,e,t),{valid:o}=C.validate(n,P);if(!o)throw new Error("Write to store failed schema validation.");return localStorage.setItem(k,JSON.stringify(n)),delete this[E],void 0!==e.profile&&this.dispatchEvent(new CustomEvent("profilechanged")),this.dispatchEvent(new CustomEvent("statechanged")),n}}},54:function(e,t,n){e.exports=n.p+"assets/images/app-logo-157c06cff6c80227eb577f35c79e58b6.png"},55:function(e,t,n){e.exports=n.p+"assets/images/company-logo-8f6f7c3b303004256295b45c2eee5117.png"},56:function(e,t,n){e.exports=n.p+"assets/images/editor-logo-6f885a1543496ebc23a21b7fea82b255.png"},611:function(e,t,n){e.exports=n.p+"assets/video/home-aee18c619a9005bd4b0d31295670af80.webm"},612:function(e,t,n){e.exports=n.p+"assets/video/home-5af051d2c531928dbaaf51b9badaabde.mp4"},613:function(e,t,n){e.exports=n.p+"assets/images/discord-logo-small-2c21aeda16de354ba5334551a883b481.png"},65:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(99),r=n.n(o),a=n(4);const i=window.ga;function s(e,t){const n=a.a.SENTRY_DSN,o=a.a.GA_TRACKING_ID;n&&(console.log("Tracking: Sentry DSN: "+n),r.a.config(n).install()),i&&o&&(console.log("Tracking: Google Analytics ID: "+o),i("create",o,"auto"),e&&i("set","page",e),t&&i("set","title",t),i("send","pageview"))}},76:function(e,t,n){e.exports=n.p+"assets/models/DuckyMesh-04f978955fb12d48f7ff8c59a05de439.glb"},78:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return m});var o=n(58),r=n.n(o);function a(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function s(e){a(i,o,r,s,l,"next",e)}function l(e){a(i,o,r,s,l,"throw",e)}s(void 0)})}}let s=!1;function l(){return(AFRAME.utils.device.isMobile()||AFRAME.utils.device.isMobileVR())&&!AFRAME.utils.device.isIOS()&&r.a.enabled}function c(){return!r.a.isFullscreen&&l()}function u(){return d.apply(this,arguments)}function d(){return(d=i(function*(){l()&&(s=!0,yield r.a.request())})).apply(this,arguments)}function m(){return p.apply(this,arguments)}function p(){return(p=i(function*(){s&&!r.a.isFullscreen&&(yield r.a.request())})).apply(this,arguments)}},9:function(e,t,n){"use strict";var o=n(107);const r=["able","absolute","acceptable","acclaimed","accomplished","accurate","aching","acrobatic","adorable","adventurous","basic","belated","beloved","calm","candid","capital","carefree","caring","cautious","celebrated","charming","daring","darling","dearest","each","eager","early","earnest","easy","easygoing","ecstatic","edible","fabulous","fair","faithful","familiar","famous","fancy","fantastic","far","generous","gentle","genuine","giant","handmade","handsome","handy","happy","icy","ideal","identical","keen","lasting","lavish","magnificent","majestic","mammoth","marvelous","natural","obedient","palatable","parched","passionate","pastel","peaceful","perfect","perfumed","quaint","qualified","radiant","rapid","rare","safe","sandy","satisfied","scaly","scarce","scared","scary","scented","scientific","secret","sentimental","talkative","tangible","tart","tasty","tattered","teeming","ultimate","uncommon","unconscious","understated","warm","active","adept","admirable","admired","adorable","adored","advanced","affectionate","beneficial","best","better","big","cheerful","cheery","chief","chilly","classic","clean","clear","clever","decent","decisive","deep","defiant","definitive","delectable","delicious","elaborate","elastic","elated","elegant","elementary","elliptical","fast","favorable","favorite","fearless","gifted","glamorous","gleaming","glittering","harmonious","imaginative","immense","jealous","kind","leafy","legal","mature","mean","nautical","neat","necessary","needy","oddball","offbeat","periodic","perky","personal","pertinent","petty","quarterly","ready","real","realistic","reasonable","regal","serene","shabby","sharp","shiny","showy","shy","silky","tempting","tense","terrific","testy","thankful","uniform","unique","vast","weary","wee","welcome","agile","alarmed","alert","alive","bleak","blissful","blushing","coarse","colorful","colossal","comfortable","compassionate","complete","delightful","dense","dependable","dependent","descriptive","detailed","determined","devoted","different","eminent","emotional","enchanted","enchanting","energetic","enormous","fine","finished","firm","firsthand","fixed","flashy","flawless","glorious","glossy","golden","good","gorgeous","graceful","healthy","heartfelt","hearty","helpful","impartial","impressive","jolly","jovial","lighthearted","likable","lined","mellow","melodic","memorable","mild","new","opulent","playful","pleasant","pleasing","plump","plush","polished","polite","reliable","relieved","remarkable","remote","respectful","responsible","simple","simplistic","sizzling","sleepy","slight","slim","smart","smooth","snappy","snoopy","thirsty","this","thorough","those","thoughtful","united","vibrant","vicious","wellmade","whimsical","whirlwind","zesty","amazing","ambitious","ample","amused","amusing","ancient","angelic","antique","bold","bossy","both","bouncy","bountiful","complex","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","diligent","dimwitted","direct","discrete","envious","essential","ethical","euphoric","flippant","fluffy","flustered","focused","fond","gracious","grand","grandiose","granular","grateful","grave","great","hidden","high","hilarious","homely","incomparable","incredible","infamous","joyful","lively","loathsome","lonely","long","mindless","miniature","minor","misty","next","nice","nifty","nimble","orderly","organic","ornate","popular","posh","positive","potable","powerful","powerless","precious","present","prestigious","quick","rewarding","rich","right","sociable","soft","solid","some","sophisticated","soulful","sparkling","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spry","thrifty","tidy","tight","timely","tinted","unruly","untimely","violet","wicked","wide","wild","willing","winding","windy","zigzag","apprehensive","appropriate","artistic","assured","astonishing","bright","brilliant","bronze","coordinated","courageous","courteous","crafty","crazy","creamy","creative","crisp","distant","distinct","downright","evergreen","everlasting","every","evil","excellent","excitable","exemplary","exhausted","forthright","fortunate","fragrant","frank","free","frequent","fresh","friendly","frightened","frigid","gripping","grounded","honest","honorable","honored","hopeful","hospitable","hot","huge","infatuated","infinite","informal","insistent","instructive","juicy","jumbo","knowing","knowledgeable","longterm","loud","lovable","loving","modern","modest","monumental","normal","notable","outgoing","precious","pretty","prickly","primary","pristine","private","prize","productive","profitable","quiet","quintessential","roasted","robust","square","squiggly","stable","staid","starry","steel","stimulating","striking","striped","strong","studious","stunning","tough","trained","treasured","tremendous","triangular","tricky","unused","unusual","upbeat","virtual","witty","wonderful","wooden","worldly","youthful","attached","attentive","attractive","austere","authentic","automatic","aware","awesome","bubbly","bustling","busy","buttery","cuddly","cultured","curly","curvy","cute","cylindrical","downright","dramatic","excited","exciting","exotic","experienced","expert","frosty","fruitful","full","fumbling","funny","fussy","growing","grown","gummy","humble","humongous","hungry","intelligent","interesting","known","kooky","loyal","lucky","luminous","lustrous","luxurious","multicolored","mysterious","noteworthy","numb","nutritious","outstanding","overjoyed","proper","proud","prudent","punctual","puny","pure","puzzled","puzzling","quirky","stupendous","sturdy","stylish","subdued","subtle","sunny","super","superb","supportive","surprised","sweet","swift","sympathetic","trivial","trusting","trustworthy","trusty","truthful","twin","usable","used","useful","utilized","vital","vivid","worried","worthwhile","worthy","writhing","wry","yummy","chocolate","crimson","cyan","fuchsia","gold","honeydew","lime","linen","magenta","olive","peru","salmon","seashell","sienna","snow","thistle","tomato","transparent","turquoise","violet"],a=["space","land","world","universe","plane","room","nation","plaza","gathering","meetup","get together","conclave","party","domain","dominion","realm","square","commons","park","cosmos","sphere","terrain","spot","zone","area","tract","turf","place","territory","volume","camp","picnic","outing","vacation","adventure","exploration","outing","walkabout","safari","venture","roundtable","barbecue","celebration","festivity","gala","shindig","social","convention","assembly","congregation","rendezvous","huddle","meet","soiree"];function i(){const e=e=>{const t=e[Math.floor(Math.random()*e.length)];return t.charAt(0).toUpperCase()+t.slice(1)};return`${e(r)} ${e(r)} ${e(a)}`}var s=n(4),l=n(51);function c(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){c(a,o,r,i,s,"next",e)}function s(e){c(a,o,r,i,s,"throw",e)}i(void 0)})}}function d(){return!!s.a.RETICULUM_SERVER}function m(){return d()&&document.location.host!==s.a.RETICULUM_SERVER}n.d(t,"j",function(){return d}),n.d(t,"l",function(){return m}),n.d(t,"h",function(){return h}),n.d(t,"k",function(){return _}),n.d(t,"i",function(){return y}),n.d(t,"a",function(){return w}),n.d(t,"e",function(){return E}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return C}),n.d(t,"f",function(){return N}),n.d(t,"g",function(){return O}),n.d(t,"m",function(){return j}),n.d(t,"c",function(){return R});const p=document.createElement("a");function h(e,t=!1){return d()?`https://${s.a.RETICULUM_SERVER}${e}`:t?(p.href=e,p.href):e}let f=null,b=!1;function _(){return g.apply(this,arguments)}function g(){return(g=u(function*(){b=!0,f=null})).apply(this,arguments)}function y(){return v.apply(this,arguments)}function v(){return(v=u(function*(){f||(!b&&document.querySelector("meta[name='ret:version']")?f={version:document.querySelector("meta[name='ret:version']").getAttribute("value"),pool:document.querySelector("meta[name='ret:pool']").getAttribute("value"),phx_host:document.querySelector("meta[name='ret:phx_host']").getAttribute("value")}:yield fetch(h("/api/v1/meta")).then(function(){var e=u(function*(e){f=yield e.json()});return function(t){return e.apply(this,arguments)}}()));const e=new URLSearchParams(location.search).get("phx_host");return e&&(f.phx_host=e),f})).apply(this,arguments)}function w(){return k.apply(this,arguments)}function k(){return(k=u(function*(e=!1,t=null,n=o.b){const r=new URLSearchParams(location.search),a=function(){var e=u(function*(){const e=r.get("phx_protocol")||s.a.RETICULUM_SOCKET_PROTOCOL||("https:"===document.location.protocol?"wss:":"ws:");let t=r.get("phx_host"),n=r.get("phx_port");const o=yield y();return`${e}//${t=t||s.a.RETICULUM_SOCKET_SERVER||o.phx_host}${(n=n||(d()?new URL(`${e}//${s.a.RETICULUM_SERVER}`).port:"443"))?`:${n}`:""}`});return function(){return e.apply(this,arguments)}}(),i=yield a();console.log(`Phoenix Socket URL: ${i}`);const l={};e&&(l.logger=(e,t,n)=>{console.log(`${e}: ${t}`,n)}),t&&(l.params=t);const c=new n(`${i}/socket`,l);return c.connect(),c.onError(u(function*(){_();const e=new URL(c.endPoint).pathname,t=`${yield a()}${e}`;console.log(`Socket error, changed endpoint to ${t}`),c.endPoint=t})),c})).apply(this,arguments)}function E(e){const t=new URL(e);return h(t.pathname.replace(".png",".html")+t.search,!0)}function S(e,t="GET",n){const{token:o}=window.APP.store.state.credentials,r=h(e),a={headers:{"content-type":"application/json"},method:t};return o&&(a.headers.authorization=`bearer ${o}`),n&&(a.body=JSON.stringify(n)),fetch(r,a).then(function(){var e=u(function*(e){const t=yield e.text();try{return JSON.parse(t)}catch(e){return t}});return function(t){return e.apply(this,arguments)}}())}function C(e,t,n){return P.apply(this,arguments)}function P(){return(P=u(function*(e,t,n){const o=h("/api/v1/hubs"),r={hub:{name:e||i()}};t&&(r.hub.scene_id=t);const a={"content-type":"application/json"},s=new l.b;s.state&&s.state.credentials.token&&(a.authorization=`bearer ${s.state.credentials.token}`);let c=yield fetch(o,{body:JSON.stringify(r),headers:a,method:"POST"}).then(e=>e.json());"invalid_token"===c.error&&(s.update({credentials:{token:null,email:null}}),delete a.authorization,c=yield fetch(o,{body:JSON.stringify(r),headers:a,method:"POST"}).then(e=>e.json()));const u=c;let d=u.url;const p=u.creator_assignment_token;if(p){s.update({creatorAssignmentTokens:[{hubId:u.hub_id,creatorAssignmentToken:p}]});const e=u.embed_token;e&&s.update({embedTokens:[{hubId:u.hub_id,embedToken:e}]})}m()&&(d="/custom-hubs-template/"+`hub.html?hub_id=${u.hub_id}`),n?document.location.replace(d):document.location=d})).apply(this,arguments)}function x(e,t){const n=(Object.entries(e||{}).find(([e])=>e===t)||[])[1];return n&&n.metas&&n.metas[0]||{}}function N(e,t){return(x(e,t)||{}).context||{}}function O(e,t){return(x(e,t)||{}).profile||{}}function j(e,t,n){const o=t.channel(e.topic,n||e.params);for(let t=0,n=e.bindings.length;t<n;t++){const n=e.bindings[t];o.on(n.event,n.callback)}for(let t=0,n=e.pushBuffer.length;t<n;t++){const n=e.pushBuffer[t];o.push(n.event,n.payload,n.timeout)}const r=e.joinPush,a=o.join();for(let e=0,t=r.recHooks.length;e<t;e++){const t=r.recHooks[e];a.receive(t.status,t.callback)}return new Promise(t=>{a.receive("ok",()=>{e.bindings=[],t(o)})})}function R(e){const t=[];for(const n of Object.values(e))for(const e of n.metas)e.profile&&e.profile.discordBridges&&Array.prototype.push.apply(t,e.profile.discordBridges.map(e=>e.channel.name));return t}},91:function(e,t,n){e.exports={"email-field":"sign-in-dialog__email-field__g3xRW",emailField:"sign-in-dialog__email-field__g3xRW","next-button":"sign-in-dialog__next-button__2pGtq",nextButton:"sign-in-dialog__next-button__2pGtq","continue-button":"sign-in-dialog__continue-button__kFN6Z",continueButton:"sign-in-dialog__continue-button__kFN6Z","sign-in-form":"sign-in-dialog__sign-in-form__3Muog",signInForm:"sign-in-dialog__sign-in-form__3Muog","sign-in-complete":"sign-in-dialog__sign-in-complete__3JMkv",signInComplete:"sign-in-dialog__sign-in-complete__3JMkv",terms:"sign-in-dialog__terms__3TT6i"}},96:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var o=n(15);n(4);const r={"action-color":"#FF3464","action-label-color":"#FF3464","action-color-disabled":"#FF74A4","action-color-highlight":"#FF74A4","action-text-color":"#FFFFFF","action-subtitle-color":"#F0F0F0","notice-background-color":"#2F80ED","notice-text-color":"#FFFFFF","favorited-color":"#FFC000"};function a(e){return window.APP_CONFIG&&window.APP_CONFIG.theme&&window.APP_CONFIG.theme[e]?window.APP_CONFIG.theme[e]:r[e]}function i(e,t){e.setAttribute("text-button","backgroundColor",a(t?"action-color-highlight":"action-color")),e.setAttribute("text-button","backgroundHoverColor",t?"#aaa":a("action-color-highlight"))}Object(o.a)().then(()=>{window.APP_CONFIG&&window.APP_CONFIG.theme&&window.APP_CONFIG.theme["dark-theme"]?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme");const e=a("action-color"),t=a("action-color-highlight");document.querySelector("#rounded-text-button")&&(document.querySelector("#rounded-text-button").setAttribute("text-button",`textHoverColor: ${t}; textColor: ${e}; backgroundColor: #fff; backgroundHoverColor: #aaa;`),document.querySelector("#rounded-button").setAttribute("text-button",`textHoverColor: ${t}; textColor: ${e}; backgroundColor: #fff; backgroundHoverColor: #aaa;`),document.querySelector("#rounded-text-action-button").setAttribute("text-button",`textHoverColor: #fff; textColor: #fff; backgroundColor: ${e}; backgroundHoverColor: ${t}`),document.querySelector("#rounded-action-button").setAttribute("text-button",`textHoverColor: #fff; textColor: #fff; backgroundColor: ${e}; backgroundHoverColor: ${t}`))})}});
//# sourceMappingURL=index-7756cfb398f0840cd7c0.js.map